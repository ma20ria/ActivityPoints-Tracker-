"use strict";(self.webpackChunkactivity_points_tracker=self.webpackChunkactivity_points_tracker||[]).push([[49],{7049:(C,c,a)=>{a.r(c),a.d(c,{ForgotPasswordComponent:()=>M});var m=a(177),n=a(4341),g=a(2183),o=a(4438),u=a(8010);const p=r=>({"is-invalid":r});function f(r,i){if(1&r&&o.nrm(0,"div",21),2&r){const t=o.XpG();o.Y8G("innerHTML",t.successMessage,o.npT)}}function _(r,i){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.JRh(t.errorMessage)}}function b(r,i){1&r&&(o.j41(0,"div"),o.EFF(1,"Email is required"),o.k0s())}function P(r,i){1&r&&(o.j41(0,"div"),o.EFF(1,"Please enter a valid email address"),o.k0s())}function v(r,i){if(1&r&&(o.j41(0,"div",23),o.DNE(1,b,2,0,"div",18)(2,P,2,0,"div",18),o.k0s()),2&r){let t,s;const e=o.XpG();o.R7$(),o.Y8G("ngIf",null==(t=e.forgotPasswordForm.get("email"))||null==t.errors?null:t.errors.required),o.R7$(),o.Y8G("ngIf",null==(s=e.forgotPasswordForm.get("email"))||null==s.errors?null:s.errors.email)}}function F(r,i){1&r&&o.nrm(0,"span",24)}function h(r,i){1&r&&(o.j41(0,"span"),o.EFF(1,"Processing..."),o.k0s())}function w(r,i){1&r&&(o.j41(0,"span"),o.EFF(1,"Reset Password"),o.k0s())}let M=(()=>{class r{constructor(t,s,e){this.fb=t,this.authService=s,this.router=e,this.isLoading=!1,this.errorMessage="",this.successMessage="",this.forgotPasswordForm=this.fb.group({email:["",[n.k0.required,n.k0.email]]})}onSubmit(){if(this.forgotPasswordForm.invalid)return;this.isLoading=!0,this.errorMessage="",this.successMessage="";const{email:t}=this.forgotPasswordForm.value;this.authService.forgotPassword(t).subscribe({next:s=>{this.isLoading=!1,this.successMessage="Password reset instructions have been sent to your email.",s.resetToken&&(this.successMessage+=` For demo purposes, click <a href="/reset-password/${s.resetToken}">here</a> to reset your password.`)},error:s=>{this.isLoading=!1,this.errorMessage=s.error?.message||"Failed to process request. Please try again."}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(n.ok),o.rXU(u.u),o.rXU(g.Ix))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forgot-password"]],standalone:!0,features:[o.aNF],decls:28,vars:11,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","border-0","shadow-sm","mt-5"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"fw-bold"],[1,"text-muted"],["class","alert alert-success mb-4",3,"innerHTML",4,"ngIf"],["class","alert alert-danger mb-4",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[1,"text-center","mt-4"],["routerLink","/login"],[1,"alert","alert-success","mb-4",3,"innerHTML"],[1,"alert","alert-danger","mb-4"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(s,e){if(1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),o.EFF(7,"Forgot Password"),o.k0s(),o.j41(8,"p",7),o.EFF(9,"Enter your email address to reset your password"),o.k0s()(),o.DNE(10,f,1,1,"div",8)(11,_,2,1,"div",9),o.j41(12,"form",10),o.bIt("ngSubmit",function(){return e.onSubmit()}),o.j41(13,"div",11)(14,"label",12),o.EFF(15,"Email Address"),o.k0s(),o.nrm(16,"input",13),o.DNE(17,v,3,2,"div",14),o.k0s(),o.j41(18,"div",15)(19,"button",16),o.DNE(20,F,1,0,"span",17)(21,h,2,0,"span",18)(22,w,2,0,"span",18),o.k0s()()(),o.j41(23,"div",19)(24,"p"),o.EFF(25,"Remember your password? "),o.j41(26,"a",20),o.EFF(27,"Login"),o.k0s()()()()()()()()),2&s){let d,l;o.R7$(10),o.Y8G("ngIf",e.successMessage),o.R7$(),o.Y8G("ngIf",e.errorMessage),o.R7$(),o.Y8G("formGroup",e.forgotPasswordForm),o.R7$(4),o.Y8G("ngClass",o.eq3(9,p,(null==(d=e.forgotPasswordForm.get("email"))?null:d.invalid)&&(null==(d=e.forgotPasswordForm.get("email"))?null:d.touched))),o.R7$(),o.Y8G("ngIf",(null==(l=e.forgotPasswordForm.get("email"))?null:l.invalid)&&(null==(l=e.forgotPasswordForm.get("email"))?null:l.touched)),o.R7$(2),o.Y8G("disabled",e.forgotPasswordForm.invalid||e.isLoading),o.R7$(),o.Y8G("ngIf",e.isLoading),o.R7$(),o.Y8G("ngIf",e.isLoading),o.R7$(),o.Y8G("ngIf",!e.isLoading)}},dependencies:[m.MD,m.YU,m.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,g.Wk],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;background-color:#fff}.form-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0056b3;box-shadow:0 0 0 2px #0056b340}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#0056b3;border:none;border-radius:4px;color:#fff;font-weight:500;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#004494}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;border-radius:4px}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.alert.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;border:1px solid #c3e6cb;color:#155724}"]})}}return r})()}}]);