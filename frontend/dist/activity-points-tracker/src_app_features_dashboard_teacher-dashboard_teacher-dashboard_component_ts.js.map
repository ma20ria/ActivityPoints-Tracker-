{"version":3,"file":"src_app_features_dashboard_teacher-dashboard_teacher-dashboard_component_ts.js","mappings":"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","sources":["./src/app/features/dashboard/teacher-dashboard/teacher-dashboard.component.ts","./src/app/features/dashboard/teacher-dashboard/teacher-dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { FormBuilder, FormGroup, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthService } from '../../../core/services/auth.service';\r\nimport { ActivityService } from '../../../core/services/activity.service';\r\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\r\nimport { User } from '../../../core/models/user.model';\r\nimport { Activity } from '../../../core/models/activity.model';\r\n\r\n@Component({\r\n  selector: 'app-teacher-dashboard',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterLink, ReactiveFormsModule, NavbarComponent],\r\n  templateUrl: './teacher-dashboard.component.html',\r\n  styleUrls: ['./teacher-dashboard.component.scss']\r\n})\r\nexport class TeacherDashboardComponent implements OnInit {\r\n  currentUser: User | null = null;\r\n  pendingActivities: Activity[] = [];\r\n  isLoading: boolean = true;\r\n  selectedActivity: Activity | null = null;\r\n  reviewForm: FormGroup;\r\n  \r\n  // Activity stats\r\n  totalPendingRequests: number = 0;\r\n  totalApprovedRequests: number = 0;\r\n  totalRejectedRequests: number = 0;\r\n  \r\n  constructor(\r\n    private authService: AuthService,\r\n    private activityService: ActivityService,\r\n    private fb: FormBuilder\r\n  ) {\r\n    this.reviewForm = this.fb.group({\r\n      status: ['approved'],\r\n      pointsAwarded: [0],\r\n      feedback: ['']\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    this.loadPendingActivities();\r\n  }\r\n\r\n  // Helper method to check if student is a User object\r\n  isUserObject(student: User | string): student is User {\r\n    return typeof student === 'object';\r\n  }\r\n\r\n  loadPendingActivities(): void {\r\n    this.isLoading = true;\r\n    \r\n    this.activityService.getPendingActivities().subscribe({\r\n      next: (response) => {\r\n        if (response && response.data) {\r\n          this.pendingActivities = response.data;\r\n          \r\n          // Update stats from the response\r\n          if (response.stats) {\r\n            this.totalPendingRequests = response.stats.pending || 0;\r\n            this.totalApprovedRequests = response.stats.approved || 0;\r\n            this.totalRejectedRequests = response.stats.rejected || 0;\r\n          } else {\r\n            this.calculateStats();\r\n          }\r\n        } else {\r\n          this.pendingActivities = [];\r\n          this.calculateStats();\r\n        }\r\n        \r\n        this.isLoading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading pending activities:', error);\r\n        this.isLoading = false;\r\n        this.pendingActivities = [];\r\n        this.calculateStats();\r\n      }\r\n    });\r\n  }\r\n\r\n  calculateStats(): void {\r\n    // Calculate stats based on actual data\r\n    this.totalPendingRequests = this.pendingActivities.length;\r\n    \r\n    // In a real application, you would fetch these counts from the server\r\n    // For now, we'll set some placeholder values\r\n    this.totalApprovedRequests = 5;\r\n    this.totalRejectedRequests = 2;\r\n  }\r\n\r\n  selectActivity(activity: Activity): void {\r\n    this.selectedActivity = activity;\r\n    \r\n    // Reset form\r\n    this.reviewForm.patchValue({\r\n      status: 'approved',\r\n      pointsAwarded: 0,\r\n      feedback: ''\r\n    });\r\n  }\r\n\r\n  submitReview(): void {\r\n    if (!this.selectedActivity || !this.reviewForm.valid) {\r\n      return;\r\n    }\r\n    \r\n    const reviewData = this.reviewForm.value;\r\n    \r\n    this.activityService.reviewActivity(this.selectedActivity._id, reviewData).subscribe({\r\n      next: (response) => {\r\n        // Update the activity in the list\r\n        const index = this.pendingActivities.findIndex(a => a._id === this.selectedActivity?._id);\r\n        if (index !== -1) {\r\n          this.pendingActivities.splice(index, 1);\r\n        }\r\n        \r\n        // Update stats\r\n        this.calculateStats();\r\n        \r\n        // Close the modal\r\n        this.selectedActivity = null;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error submitting review:', error);\r\n        // You could add error handling here, such as displaying an error message\r\n      }\r\n    });\r\n  }\r\n} ","<app-navbar></app-navbar>\r\n\r\n<div class=\"container py-4\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-12\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <h1 class=\"mb-0\">Teacher Dashboard</h1>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading Spinner -->\r\n  <div *ngIf=\"isLoading\" class=\"text-center py-5\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n    <p class=\"mt-2\">Loading your dashboard...</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!isLoading\">\r\n    <!-- Stats Cards -->\r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-md-4 mb-3 mb-md-0\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-warning mb-0\">{{ totalPendingRequests }}</h3>\r\n            <p class=\"text-muted mb-0\">Pending Requests</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-4 mb-3 mb-md-0\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-success mb-0\">{{ totalApprovedRequests }}</h3>\r\n            <p class=\"text-muted mb-0\">Approved Requests</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-4\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-danger mb-0\">{{ totalRejectedRequests }}</h3>\r\n            <p class=\"text-muted mb-0\">Rejected Requests</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Pending Activities -->\r\n    <div class=\"card border-0 shadow-sm\">\r\n      <div class=\"card-header bg-white border-0\">\r\n        <h5 class=\"mb-0\">Pending Certificate Requests</h5>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div *ngIf=\"pendingActivities.length === 0\" class=\"text-center py-4\">\r\n          <p class=\"text-muted mb-0\">No pending certificate requests.</p>\r\n        </div>\r\n        \r\n        <div *ngIf=\"pendingActivities.length > 0\" class=\"table-responsive\">\r\n          <table class=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>Student</th>\r\n                <th>Title</th>\r\n                <th>Type</th>\r\n                <th>Date</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let activity of pendingActivities\">\r\n                <td>\r\n                  <div class=\"d-flex flex-column\">\r\n                    <span class=\"fw-medium\">{{ isUserObject(activity.student) ? activity.student.name : 'Unknown' }}</span>\r\n                    <small class=\"text-muted\">{{ isUserObject(activity.student) ? activity.student.rollNumber : '' }} | {{ isUserObject(activity.student) ? activity.student.class : '' }}</small>\r\n                  </div>\r\n                </td>\r\n                <td>{{ activity.title }}</td>\r\n                <td>{{ activity.activityType }}</td>\r\n                <td>{{ activity.date | date:'mediumDate' }}</td>\r\n                <td>\r\n                  <button class=\"btn btn-sm btn-primary\" (click)=\"selectActivity(activity)\" data-bs-toggle=\"modal\" data-bs-target=\"#reviewModal\">\r\n                    Review\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Review Modal -->\r\n<div class=\"modal fade\" id=\"reviewModal\" tabindex=\"-1\" aria-labelledby=\"reviewModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"reviewModalLabel\">Review Certificate</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div *ngIf=\"selectedActivity\">\r\n          <div class=\"row mb-4\">\r\n            <div class=\"col-md-6\">\r\n              <h6 class=\"mb-2\">Student Information</h6>\r\n              <p class=\"mb-1\"><strong>Name:</strong> {{ isUserObject(selectedActivity.student) ? selectedActivity.student.name : 'Unknown' }}</p>\r\n              <p class=\"mb-1\"><strong>Roll Number:</strong> {{ isUserObject(selectedActivity.student) ? selectedActivity.student.rollNumber : '' }}</p>\r\n              <p class=\"mb-1\"><strong>Class:</strong> {{ isUserObject(selectedActivity.student) ? selectedActivity.student.class : '' }}</p>\r\n              <p class=\"mb-1\"><strong>Department:</strong> {{ isUserObject(selectedActivity.student) ? selectedActivity.student.department : '' }}</p>\r\n              <p class=\"mb-0\"><strong>Semester:</strong> {{ isUserObject(selectedActivity.student) ? selectedActivity.student.semester : '' }}</p>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <h6 class=\"mb-2\">Certificate Information</h6>\r\n              <p class=\"mb-1\"><strong>Title:</strong> {{ selectedActivity.title }}</p>\r\n              <p class=\"mb-1\"><strong>Type:</strong> {{ selectedActivity.activityType }}</p>\r\n              <p class=\"mb-1\"><strong>Date:</strong> {{ selectedActivity.date | date:'mediumDate' }}</p>\r\n              <p class=\"mb-0\"><strong>Submitted On:</strong> {{ selectedActivity.createdAt | date:'mediumDate' }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"mb-4\">\r\n            <h6 class=\"mb-2\">Description</h6>\r\n            <p class=\"mb-0\">{{ selectedActivity.description }}</p>\r\n          </div>\r\n          \r\n          <div class=\"mb-4\">\r\n            <h6 class=\"mb-2\">Certificate Preview</h6>\r\n            <div class=\"certificate-preview\">\r\n              <p class=\"text-muted text-center\">Certificate preview would be displayed here.</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <form [formGroup]=\"reviewForm\">\r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label\">Decision</label>\r\n              <div class=\"d-flex\">\r\n                <div class=\"form-check me-3\">\r\n                  <input class=\"form-check-input\" type=\"radio\" formControlName=\"status\" id=\"statusApprove\" value=\"approved\">\r\n                  <label class=\"form-check-label\" for=\"statusApprove\">\r\n                    Approve\r\n                  </label>\r\n                </div>\r\n                <div class=\"form-check\">\r\n                  <input class=\"form-check-input\" type=\"radio\" formControlName=\"status\" id=\"statusReject\" value=\"rejected\">\r\n                  <label class=\"form-check-label\" for=\"statusReject\">\r\n                    Reject\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"mb-3\" *ngIf=\"reviewForm.get('status')?.value === 'approved'\">\r\n              <label for=\"pointsAwarded\" class=\"form-label\">Points to Award</label>\r\n              <input type=\"number\" class=\"form-input\" id=\"pointsAwarded\" formControlName=\"pointsAwarded\" min=\"0\" max=\"100\">\r\n            </div>\r\n            \r\n            <div class=\"mb-3\">\r\n              <label for=\"feedback\" class=\"form-label\">Feedback (Optional)</label>\r\n              <textarea class=\"form-input\" id=\"feedback\" formControlName=\"feedback\" rows=\"3\" placeholder=\"Provide feedback to the student\"></textarea>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitReview()\" data-bs-dismiss=\"modal\">Submit Review</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> "],"names":["CommonModule","ReactiveFormsModule","NavbarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","TeacherDashboardComponent_div_8_div_29_tr_15_Template_button_click_15_listener","activity_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectActivity","ɵɵadvance","ɵɵtextInterpolate","isUserObject","student","name","ɵɵtextInterpolate2","rollNumber","class","title","activityType","ɵɵpipeBind2","date","ɵɵtemplate","TeacherDashboardComponent_div_8_div_29_tr_15_Template","ɵɵproperty","pendingActivities","TeacherDashboardComponent_div_8_div_28_Template","TeacherDashboardComponent_div_8_div_29_Template","totalPendingRequests","totalApprovedRequests","totalRejectedRequests","length","ɵɵelement","TeacherDashboardComponent_div_17_div_70_Template","ɵɵtextInterpolate1","selectedActivity","department","semester","createdAt","description","reviewForm","tmp_12_0","get","value","TeacherDashboardComponent","constructor","authService","activityService","fb","currentUser","isLoading","group","status","pointsAwarded","feedback","ngOnInit","getCurrentUser","loadPendingActivities","getPendingActivities","subscribe","next","response","data","stats","pending","approved","rejected","calculateStats","error","console","activity","patchValue","submitReview","valid","reviewData","reviewActivity","_id","index","findIndex","a","splice","ɵɵdirectiveInject","i1","AuthService","i2","ActivityService","i3","FormBuilder","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TeacherDashboardComponent_Template","rf","ctx","TeacherDashboardComponent_div_7_Template","TeacherDashboardComponent_div_8_Template","TeacherDashboardComponent_div_17_Template","TeacherDashboardComponent_Template_button_click_21_listener","i4","NgForOf","NgIf","DatePipe","ɵNgNoValidate","DefaultValueAccessor","NumberValueAccessor","RadioControlValueAccessor","NgControlStatus","NgControlStatusGroup","MinValidator","MaxValidator","FormGroupDirective","FormControlName","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}