{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/auth.service\";\nimport * as i2 from \"../../../core/services/activity.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction TeacherDashboardComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TeacherDashboardComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction TeacherDashboardComponent_div_4_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 18);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 18)(11, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function TeacherDashboardComponent_div_4_tr_35_Template_button_click_11_listener() {\n      const activity_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.reviewActivity(activity_r3._id, \"approved\"));\n    });\n    i0.ɵɵtext(12, \" Approve \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function TeacherDashboardComponent_div_4_tr_35_Template_button_click_13_listener() {\n      const activity_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.reviewActivity(activity_r3._id, \"rejected\"));\n    });\n    i0.ɵɵtext(14, \" Reject \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const activity_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(activity_r3.studentName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(activity_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(activity_r3.points);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 4, activity_r3.date));\n  }\n}\nfunction TeacherDashboardComponent_div_4_tr_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 18);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 18)(8, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function TeacherDashboardComponent_div_4_tr_52_Template_button_click_8_listener() {\n      const report_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.viewStudentDetails(report_r5.studentId));\n    });\n    i0.ɵɵtext(9, \" View Details \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const report_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(report_r5.studentName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(report_r5.activities[0] == null ? null : report_r5.activities[0].studentRollNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(report_r5.totalPoints);\n  }\n}\nfunction TeacherDashboardComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"div\", 8)(3, \"h3\", 9);\n    i0.ɵɵtext(4, \"Pending Reviews\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"h3\", 9);\n    i0.ɵɵtext(9, \"Approved Activities\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 8)(13, \"h3\", 9);\n    i0.ɵɵtext(14, \"Rejected Activities\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 12);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 13)(18, \"h2\", 14);\n    i0.ɵɵtext(19, \"Pending Activities\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"table\", 16)(22, \"thead\")(23, \"tr\", 17)(24, \"th\", 18);\n    i0.ɵɵtext(25, \"Student\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 18);\n    i0.ɵɵtext(27, \"Activity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 18);\n    i0.ɵɵtext(29, \"Points\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 18);\n    i0.ɵɵtext(31, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\", 18);\n    i0.ɵɵtext(33, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(34, \"tbody\");\n    i0.ɵɵtemplate(35, TeacherDashboardComponent_div_4_tr_35_Template, 15, 6, \"tr\", 19);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(36, \"div\", 8)(37, \"h2\", 14);\n    i0.ɵɵtext(38, \"Student Reports\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 15)(40, \"table\", 16)(41, \"thead\")(42, \"tr\", 17)(43, \"th\", 18);\n    i0.ɵɵtext(44, \"Student Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"th\", 18);\n    i0.ɵɵtext(46, \"Roll Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"th\", 18);\n    i0.ɵɵtext(48, \"Total Points\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"th\", 18);\n    i0.ɵɵtext(50, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(51, \"tbody\");\n    i0.ɵɵtemplate(52, TeacherDashboardComponent_div_4_tr_52_Template, 10, 3, \"tr\", 19);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.pending);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.approved);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.stats.rejected);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pendingActivities);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.studentReports);\n  }\n}\nexport class TeacherDashboardComponent {\n  constructor(authService, activityService, router) {\n    this.authService = authService;\n    this.activityService = activityService;\n    this.router = router;\n    this.currentUser = null;\n    this.pendingActivities = [];\n    this.studentReports = [];\n    this.stats = {\n      pending: 0,\n      approved: 0,\n      rejected: 0\n    };\n    this.isLoading = true;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n    this.loadDashboardData();\n  }\n  loadDashboardData() {\n    this.isLoading = true;\n    this.errorMessage = '';\n    // Load both pending activities and teacher report\n    this.activityService.getPendingActivities().subscribe({\n      next: response => {\n        this.pendingActivities = response.data;\n        this.stats = response.stats;\n        this.loadTeacherReport();\n      },\n      error: error => {\n        console.error('Error loading pending activities:', error);\n        this.errorMessage = 'Failed to load pending activities. Please try again.';\n        this.isLoading = false;\n      }\n    });\n  }\n  loadTeacherReport() {\n    if (this.currentUser?._id) {\n      this.activityService.getTeacherReport(this.currentUser._id).subscribe({\n        next: response => {\n          if (response.success) {\n            this.studentReports = response.data;\n          } else {\n            this.errorMessage = response.message || 'Failed to load student reports.';\n          }\n          this.isLoading = false;\n        },\n        error: error => {\n          console.error('Error loading teacher report:', error);\n          this.errorMessage = 'Failed to load student reports. Please try again.';\n          this.isLoading = false;\n        }\n      });\n    }\n  }\n  reviewActivity(activityId, status) {\n    const reviewData = {\n      status,\n      feedback: status === 'approved' ? 'Activity approved' : 'Activity rejected'\n    };\n    this.activityService.reviewActivity(activityId, reviewData).subscribe({\n      next: response => {\n        if (response.success) {\n          this.loadDashboardData();\n        } else {\n          this.errorMessage = response.message || 'Failed to review activity.';\n        }\n      },\n      error: error => {\n        console.error('Error reviewing activity:', error);\n        this.errorMessage = 'Failed to review activity. Please try again.';\n      }\n    });\n  }\n  viewStudentDetails(studentId) {\n    this.router.navigate(['/dashboard/teacher/student', studentId]);\n  }\n  static {\n    this.ɵfac = function TeacherDashboardComponent_Factory(t) {\n      return new (t || TeacherDashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ActivityService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TeacherDashboardComponent,\n      selectors: [[\"app-teacher-dashboard\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 3,\n      consts: [[1, \"container\", \"mx-auto\", \"px-4\", \"py-8\"], [\"class\", \"text-center py-8\", 4, \"ngIf\"], [\"class\", \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"text-center\", \"py-8\"], [1, \"animate-spin\", \"rounded-full\", \"h-12\", \"w-12\", \"border-b-2\", \"border-blue-500\", \"mx-auto\"], [1, \"bg-red-100\", \"border\", \"border-red-400\", \"text-red-700\", \"px-4\", \"py-3\", \"rounded\", \"mb-4\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-6\", \"mb-8\"], [1, \"bg-white\", \"rounded-lg\", \"shadow\", \"p-6\"], [1, \"text-lg\", \"font-semibold\", \"mb-2\"], [1, \"text-3xl\", \"font-bold\", \"text-blue-600\"], [1, \"text-3xl\", \"font-bold\", \"text-green-600\"], [1, \"text-3xl\", \"font-bold\", \"text-red-600\"], [1, \"bg-white\", \"rounded-lg\", \"shadow\", \"p-6\", \"mb-8\"], [1, \"text-xl\", \"font-bold\", \"mb-4\"], [1, \"overflow-x-auto\"], [1, \"min-w-full\"], [1, \"bg-gray-100\"], [1, \"px-4\", \"py-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bg-green-500\", \"text-white\", \"px-3\", \"py-1\", \"rounded\", \"mr-2\", 3, \"click\"], [1, \"bg-red-500\", \"text-white\", \"px-3\", \"py-1\", \"rounded\", 3, \"click\"], [1, \"bg-blue-500\", \"text-white\", \"px-3\", \"py-1\", \"rounded\", 3, \"click\"]],\n      template: function TeacherDashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0);\n          i0.ɵɵtemplate(2, TeacherDashboardComponent_div_2_Template, 2, 0, \"div\", 1)(3, TeacherDashboardComponent_div_3_Template, 2, 1, \"div\", 2)(4, TeacherDashboardComponent_div_4_Template, 53, 5, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && !ctx.errorMessage);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe, RouterModule, NavbarComponent],\n      styles: [\"[_nghost-%COMP%] {\\n  display: block;\\n  min-height: 100vh;\\n  background-color: #f3f4f6;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvZGFzaGJvYXJkL3RlYWNoZXItZGFzaGJvYXJkL3RlYWNoZXItZGFzaGJvYXJkLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FBQU4iLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjRmNjtcbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterModule","NavbarComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵlistener","TeacherDashboardComponent_div_4_tr_35_Template_button_click_11_listener","activity_r3","ɵɵrestoreView","_r2","$implicit","ɵɵnextContext","ɵɵresetView","reviewActivity","_id","TeacherDashboardComponent_div_4_tr_35_Template_button_click_13_listener","ɵɵtextInterpolate","studentName","title","points","ɵɵpipeBind1","date","TeacherDashboardComponent_div_4_tr_52_Template_button_click_8_listener","report_r5","_r4","viewStudentDetails","studentId","activities","studentRollNumber","totalPoints","ɵɵtemplate","TeacherDashboardComponent_div_4_tr_35_Template","TeacherDashboardComponent_div_4_tr_52_Template","stats","pending","approved","rejected","ɵɵproperty","pendingActivities","studentReports","TeacherDashboardComponent","constructor","authService","activityService","router","currentUser","isLoading","ngOnInit","getCurrentUser","navigate","loadDashboardData","getPendingActivities","subscribe","next","response","data","loadTeacherReport","error","console","getTeacherReport","success","message","activityId","status","reviewData","feedback","ɵɵdirectiveInject","i1","AuthService","i2","ActivityService","i3","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TeacherDashboardComponent_Template","rf","ctx","TeacherDashboardComponent_div_2_Template","TeacherDashboardComponent_div_3_Template","TeacherDashboardComponent_div_4_Template","i4","NgForOf","NgIf","DatePipe","styles"],"sources":["C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\dashboard\\teacher-dashboard\\teacher-dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Router } from '@angular/router';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport { ActivityService } from '../../../core/services/activity.service';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { User } from '../../../core/models/user.model';\nimport { Activity } from '../../../core/models/activity.model';\n\ninterface StudentReport {\n  studentId: string;\n  studentName: string;\n  totalPoints: number;\n  activities: Activity[];\n}\n\n@Component({\n  selector: 'app-teacher-dashboard',\n  standalone: true,\n  imports: [CommonModule, RouterModule, NavbarComponent],\n  template: `\n    <app-navbar></app-navbar>\n    <div class=\"container mx-auto px-4 py-8\">\n      <div *ngIf=\"isLoading\" class=\"text-center py-8\">\n        <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto\"></div>\n      </div>\n\n      <div *ngIf=\"errorMessage\" class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n        {{ errorMessage }}\n      </div>\n\n      <div *ngIf=\"!isLoading && !errorMessage\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <!-- Stats Cards -->\n          <div class=\"bg-white rounded-lg shadow p-6\">\n            <h3 class=\"text-lg font-semibold mb-2\">Pending Reviews</h3>\n            <p class=\"text-3xl font-bold text-blue-600\">{{ stats.pending }}</p>\n          </div>\n          <div class=\"bg-white rounded-lg shadow p-6\">\n            <h3 class=\"text-lg font-semibold mb-2\">Approved Activities</h3>\n            <p class=\"text-3xl font-bold text-green-600\">{{ stats.approved }}</p>\n          </div>\n          <div class=\"bg-white rounded-lg shadow p-6\">\n            <h3 class=\"text-lg font-semibold mb-2\">Rejected Activities</h3>\n            <p class=\"text-3xl font-bold text-red-600\">{{ stats.rejected }}</p>\n          </div>\n        </div>\n\n        <!-- Pending Activities -->\n        <div class=\"bg-white rounded-lg shadow p-6 mb-8\">\n          <h2 class=\"text-xl font-bold mb-4\">Pending Activities</h2>\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full\">\n              <thead>\n                <tr class=\"bg-gray-100\">\n                  <th class=\"px-4 py-2\">Student</th>\n                  <th class=\"px-4 py-2\">Activity</th>\n                  <th class=\"px-4 py-2\">Points</th>\n                  <th class=\"px-4 py-2\">Date</th>\n                  <th class=\"px-4 py-2\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let activity of pendingActivities\">\n                  <td class=\"px-4 py-2\">{{ activity.studentName }}</td>\n                  <td class=\"px-4 py-2\">{{ activity.title }}</td>\n                  <td class=\"px-4 py-2\">{{ activity.points }}</td>\n                  <td class=\"px-4 py-2\">{{ activity.date | date }}</td>\n                  <td class=\"px-4 py-2\">\n                    <button (click)=\"reviewActivity(activity._id, 'approved')\" \n                            class=\"bg-green-500 text-white px-3 py-1 rounded mr-2\">\n                      Approve\n                    </button>\n                    <button (click)=\"reviewActivity(activity._id, 'rejected')\"\n                            class=\"bg-red-500 text-white px-3 py-1 rounded\">\n                      Reject\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- Student Reports -->\n        <div class=\"bg-white rounded-lg shadow p-6\">\n          <h2 class=\"text-xl font-bold mb-4\">Student Reports</h2>\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full\">\n              <thead>\n                <tr class=\"bg-gray-100\">\n                  <th class=\"px-4 py-2\">Student Name</th>\n                  <th class=\"px-4 py-2\">Roll Number</th>\n                  <th class=\"px-4 py-2\">Total Points</th>\n                  <th class=\"px-4 py-2\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let report of studentReports\">\n                  <td class=\"px-4 py-2\">{{ report.studentName }}</td>\n                  <td class=\"px-4 py-2\">{{ report.activities[0]?.studentRollNumber }}</td>\n                  <td class=\"px-4 py-2\">{{ report.totalPoints }}</td>\n                  <td class=\"px-4 py-2\">\n                    <button (click)=\"viewStudentDetails(report.studentId)\"\n                            class=\"bg-blue-500 text-white px-3 py-1 rounded\">\n                      View Details\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    :host {\n      display: block;\n      min-height: 100vh;\n      background-color: #f3f4f6;\n    }\n  `]\n})\nexport class TeacherDashboardComponent implements OnInit {\n  currentUser: User | null = null;\n  pendingActivities: Activity[] = [];\n  studentReports: StudentReport[] = [];\n  stats = {\n    pending: 0,\n    approved: 0,\n    rejected: 0\n  };\n  isLoading = true;\n  errorMessage = '';\n\n  constructor(\n    private authService: AuthService,\n    private activityService: ActivityService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n    this.loadDashboardData();\n  }\n\n  loadDashboardData(): void {\n    this.isLoading = true;\n    this.errorMessage = '';\n    \n    // Load both pending activities and teacher report\n    this.activityService.getPendingActivities().subscribe({\n      next: (response) => {\n        this.pendingActivities = response.data;\n        this.stats = response.stats;\n        this.loadTeacherReport();\n      },\n      error: (error) => {\n        console.error('Error loading pending activities:', error);\n        this.errorMessage = 'Failed to load pending activities. Please try again.';\n        this.isLoading = false;\n      }\n    });\n  }\n\n  loadTeacherReport(): void {\n    if (this.currentUser?._id) {\n      this.activityService.getTeacherReport(this.currentUser._id).subscribe({\n        next: (response) => {\n          if (response.success) {\n            this.studentReports = response.data;\n          } else {\n            this.errorMessage = response.message || 'Failed to load student reports.';\n          }\n          this.isLoading = false;\n        },\n        error: (error) => {\n          console.error('Error loading teacher report:', error);\n          this.errorMessage = 'Failed to load student reports. Please try again.';\n          this.isLoading = false;\n        }\n      });\n    }\n  }\n\n  reviewActivity(activityId: string, status: 'approved' | 'rejected'): void {\n    const reviewData = {\n      status,\n      feedback: status === 'approved' ? 'Activity approved' : 'Activity rejected'\n    };\n\n    this.activityService.reviewActivity(activityId, reviewData).subscribe({\n      next: (response) => {\n        if (response.success) {\n          this.loadDashboardData();\n        } else {\n          this.errorMessage = response.message || 'Failed to review activity.';\n        }\n      },\n      error: (error) => {\n        console.error('Error reviewing activity:', error);\n        this.errorMessage = 'Failed to review activity. Please try again.';\n      }\n    });\n  }\n\n  viewStudentDetails(studentId: string): void {\n    this.router.navigate(['/dashboard/teacher/student', studentId]);\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}