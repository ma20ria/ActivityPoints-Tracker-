{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { Chart } from 'chart.js';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/activity.service\";\nimport * as i2 from \"../../../core/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"doughnutChart\"];\nconst _c1 = [\"barChart\"];\nconst _c2 = (a0, a1, a2) => ({\n  \"bg-success\": a0,\n  \"bg-warning\": a1,\n  \"bg-danger\": a2\n});\nfunction StudentDashboardComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"span\", 10);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 11);\n    i0.ɵɵtext(5, \"Loading your dashboard...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StudentDashboardComponent_div_10_tr_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 36);\n    i0.ɵɵtext(2, \"No activities submitted yet.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StudentDashboardComponent_div_10_tr_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 37);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const activity_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(activity_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(activity_r1.activityType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 6, activity_r1.date, \"mediumDate\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(11, _c2, activity_r1.status === \"approved\", activity_r1.status === \"pending\", activity_r1.status === \"rejected\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 9, activity_r1.status), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(activity_r1.pointsAwarded || 0);\n  }\n}\nfunction StudentDashboardComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 12)(3, \"div\", 13)(4, \"div\", 14)(5, \"h3\", 15);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 16);\n    i0.ɵɵtext(8, \"Total Points\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"div\", 13)(11, \"div\", 14)(12, \"h3\", 17);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 16);\n    i0.ɵɵtext(15, \"Total Activities\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 12)(17, \"div\", 13)(18, \"div\", 14)(19, \"h3\", 18);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\", 16);\n    i0.ɵɵtext(22, \"Approved\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(23, \"div\", 19)(24, \"div\", 13)(25, \"div\", 14)(26, \"h3\", 20);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\", 16);\n    i0.ɵɵtext(29, \"Pending\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(30, \"div\", 1)(31, \"div\", 21)(32, \"div\", 22)(33, \"div\", 23)(34, \"h5\", 4);\n    i0.ɵɵtext(35, \"Activity Status\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 24)(37, \"div\", 25);\n    i0.ɵɵelement(38, \"canvas\", 26);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(39, \"div\", 27)(40, \"div\", 22)(41, \"div\", 23)(42, \"h5\", 4);\n    i0.ɵɵtext(43, \"Points by Semester\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"div\", 24)(45, \"div\", 28);\n    i0.ɵɵelement(46, \"canvas\", 26);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(47, \"div\", 29)(48, \"div\", 2)(49, \"div\", 30)(50, \"div\", 31)(51, \"h5\", 4);\n    i0.ɵɵtext(52, \"Recent Activities\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"a\", 32);\n    i0.ɵɵtext(54, \"View All\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(55, \"div\", 24)(56, \"div\", 33)(57, \"table\", 34)(58, \"thead\")(59, \"tr\")(60, \"th\");\n    i0.ɵɵtext(61, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"th\");\n    i0.ɵɵtext(63, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"th\");\n    i0.ɵɵtext(65, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"th\");\n    i0.ɵɵtext(67, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"th\");\n    i0.ɵɵtext(69, \"Points\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(70, \"tbody\");\n    i0.ɵɵtemplate(71, StudentDashboardComponent_div_10_tr_71_Template, 3, 0, \"tr\", 7)(72, StudentDashboardComponent_div_10_tr_72_Template, 14, 15, \"tr\", 35);\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r1.totalPoints);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.totalActivities);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.approvedActivities);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.pendingActivities);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"data\", ctx_r1.doughnutChartData)(\"options\", ctx_r1.doughnutChartOptions)(\"type\", \"doughnut\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"data\", ctx_r1.barChartData)(\"options\", ctx_r1.barChartOptions)(\"type\", ctx_r1.barChartType);\n    i0.ɵɵadvance(25);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.activities.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.activities.slice(0, 5));\n  }\n}\nexport class StudentDashboardComponent {\n  constructor(activityService, authService, router) {\n    this.activityService = activityService;\n    this.authService = authService;\n    this.router = router;\n    this.currentUser = null;\n    this.activities = [];\n    this.isLoading = true;\n    this.errorMessage = '';\n    this.totalPoints = 0;\n    this.pendingCount = 0;\n    this.approvedCount = 0;\n    this.rejectedCount = 0;\n    this.pointsBySemester = {};\n    this.pointsByType = {\n      sports: 0,\n      mooc: 0,\n      workshops: 0,\n      internships: 0\n    };\n    this.doughnutChart = null;\n    this.barChart = null;\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n    this.loadActivities();\n  }\n  ngAfterViewInit() {\n    // Initialize charts after view is ready\n    setTimeout(() => {\n      this.initializeCharts();\n    }, 0);\n  }\n  loadActivities() {\n    this.isLoading = true;\n    this.errorMessage = '';\n    this.activityService.getMyActivities().subscribe({\n      next: response => {\n        if (response.success && response.data) {\n          this.activities = response.data;\n          this.calculateStats();\n        } else {\n          this.errorMessage = response.message || 'Failed to load activities';\n        }\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Error loading activities:', error);\n        this.errorMessage = 'Failed to load activities. Please try again later.';\n        this.isLoading = false;\n      }\n    });\n  }\n  calculateStats() {\n    // Reset counters\n    this.totalPoints = 0;\n    this.pendingCount = 0;\n    this.approvedCount = 0;\n    this.rejectedCount = 0;\n    this.pointsBySemester = {};\n    this.pointsByType = {\n      sports: 0,\n      mooc: 0,\n      workshops: 0,\n      internships: 0\n    };\n    // Calculate statistics\n    this.activities.forEach(activity => {\n      // Count by status\n      switch (activity.status) {\n        case 'pending':\n          this.pendingCount++;\n          break;\n        case 'approved':\n          this.approvedCount++;\n          this.totalPoints += activity.points;\n          break;\n        case 'rejected':\n          this.rejectedCount++;\n          break;\n      }\n      // Calculate points by semester\n      if (activity.status === 'approved') {\n        this.pointsBySemester[activity.semester] = (this.pointsBySemester[activity.semester] || 0) + activity.points;\n      }\n      // Calculate points by type\n      if (activity.status === 'approved') {\n        this.pointsByType[activity.activityType] = (this.pointsByType[activity.activityType] || 0) + activity.points;\n      }\n    });\n    console.log('Points by semester:', this.pointsBySemester);\n    console.log('Points by type:', this.pointsByType);\n  }\n  initializeCharts() {\n    if (!this.doughnutChartCanvas || !this.barChartCanvas) {\n      console.error('Chart canvases not found');\n      return;\n    }\n    // Initialize Doughnut Chart\n    const doughnutCtx = this.doughnutChartCanvas.nativeElement.getContext('2d');\n    if (!doughnutCtx) {\n      console.error('Could not get doughnut chart context');\n      return;\n    }\n    const doughnutConfig = {\n      type: 'doughnut',\n      data: {\n        labels: ['Pending', 'Approved', 'Rejected'],\n        datasets: [{\n          data: [this.pendingCount, this.approvedCount, this.rejectedCount],\n          backgroundColor: ['#FFA500', '#4CAF50', '#F44336'],\n          borderWidth: 1\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: true,\n        layout: {\n          padding: 10\n        },\n        plugins: {\n          legend: {\n            position: 'bottom',\n            labels: {\n              padding: 15,\n              font: {\n                size: 11\n              },\n              boxWidth: 12\n            }\n          }\n        }\n      }\n    };\n    this.doughnutChart = new Chart(doughnutCtx, doughnutConfig);\n    // Initialize Bar Chart\n    const barCtx = this.barChartCanvas.nativeElement.getContext('2d');\n    if (!barCtx) {\n      console.error('Could not get bar chart context');\n      return;\n    }\n    const semesters = Object.keys(this.pointsBySemester).map(Number).sort((a, b) => a - b);\n    const points = semesters.map(sem => this.pointsBySemester[sem]);\n    const barConfig = {\n      type: 'bar',\n      data: {\n        labels: semesters.map(sem => `Semester ${sem}`),\n        datasets: [{\n          label: 'Points',\n          data: points,\n          backgroundColor: '#4CAF50',\n          borderColor: '#388E3C',\n          borderWidth: 1\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: true,\n        scales: {\n          y: {\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: 'Points'\n            }\n          },\n          x: {\n            title: {\n              display: true,\n              text: 'Semester'\n            }\n          }\n        },\n        plugins: {\n          legend: {\n            display: false\n          }\n        }\n      }\n    };\n    this.barChart = new Chart(barCtx, barConfig);\n  }\n  ngOnDestroy() {\n    if (this.doughnutChart) {\n      this.doughnutChart.destroy();\n    }\n    if (this.barChart) {\n      this.barChart.destroy();\n    }\n  }\n  static {\n    this.ɵfac = function StudentDashboardComponent_Factory(t) {\n      return new (t || StudentDashboardComponent)(i0.ɵɵdirectiveInject(i1.ActivityService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StudentDashboardComponent,\n      selectors: [[\"app-student-dashboard\"]],\n      viewQuery: function StudentDashboardComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.doughnutChartCanvas = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.barChartCanvas = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 11,\n      vars: 2,\n      consts: [[1, \"container\", \"py-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"routerLink\", \"/activities/submit\", 1, \"btn\", \"btn-primary\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-2\"], [1, \"col-md-3\", \"mb-3\", \"mb-md-0\"], [1, \"card\", \"h-100\", \"border-0\", \"shadow-sm\"], [1, \"card-body\", \"d-flex\", \"flex-column\", \"align-items-center\"], [1, \"text-primary\", \"mb-0\"], [1, \"text-muted\", \"mb-0\"], [1, \"text-info\", \"mb-0\"], [1, \"text-success\", \"mb-0\"], [1, \"col-md-3\"], [1, \"text-warning\", \"mb-0\"], [1, \"col-md-6\", \"mb-4\", \"mb-md-0\"], [1, \"card\", \"border-0\", \"shadow-sm\", \"h-100\"], [1, \"card-header\", \"bg-white\", \"border-0\"], [1, \"card-body\"], [1, \"chart-container\", \"doughnut-container\"], [\"baseChart\", \"\", 3, \"data\", \"options\", \"type\"], [1, \"col-md-6\"], [1, \"chart-container\", 2, \"position\", \"relative\", \"height\", \"300px\", \"width\", \"100%\"], [1, \"row\"], [1, \"card\", \"border-0\", \"shadow-sm\"], [1, \"card-header\", \"bg-white\", \"border-0\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"routerLink\", \"/activities\", 1, \"btn\", \"btn-sm\", \"btn-outline-primary\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"5\", 1, \"text-center\", \"py-3\"], [1, \"badge\", 3, \"ngClass\"]],\n      template: function StudentDashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h1\", 4);\n          i0.ɵɵtext(6, \"Student Dashboard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"a\", 5);\n          i0.ɵɵtext(8, \"Submit New Activity\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(9, StudentDashboardComponent_div_9_Template, 6, 0, \"div\", 6)(10, StudentDashboardComponent_div_10_Template, 73, 12, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n        }\n      },\n      dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, i4.TitleCasePipe, i4.DatePipe, RouterLink, NavbarComponent],\n      styles: [\".shadow-sm[_ngcontent-%COMP%] {\\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  transition: all 0.3s ease;\\n}\\n.card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\\n}\\n\\n.chart-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  margin: auto;\\n  height: 300px;\\n  width: 100%;\\n}\\n.chart-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%] {\\n  width: 100% !important;\\n  height: 100% !important;\\n}\\n\\n.doughnut-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 300px;\\n  padding: 10px;\\n}\\n.doughnut-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%] {\\n  max-width: 300px !important;\\n  max-height: 300px !important;\\n  width: 100% !important;\\n  height: 100% !important;\\n}\\n\\nh3[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  font-weight: 600;\\n}\\n\\n.text-muted[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 0.5em 0.75em;\\n  font-weight: 500;\\n}\\n\\n.table[_ngcontent-%COMP%] {\\n  font-size: 0.95rem;\\n}\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: #495057;\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  padding: 1rem 1.25rem;\\n}\\n.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n}\\n\\n@media (max-width: 768px) {\\n  .chart-container[_ngcontent-%COMP%] {\\n    height: 250px;\\n  }\\n  .doughnut-container[_ngcontent-%COMP%] {\\n    height: 250px;\\n    padding: 10px;\\n  }\\n  .doughnut-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%] {\\n    max-width: 250px !important;\\n    max-height: 250px !important;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvZGFzaGJvYXJkL3N0dWRlbnQtZGFzaGJvYXJkL3N0dWRlbnQtZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOERBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0Y7QUFDRTtFQUNFLDJCQUFBO0VBQ0Esd0RBQUE7QUFDSjs7QUFHQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0FBQUY7QUFDRTtFQUNFLHNCQUFBO0VBQ0EsdUJBQUE7QUFDSjs7QUFHQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7QUFBRjtBQUVFO0VBQ0UsMkJBQUE7RUFDQSw0QkFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7QUFBSjs7QUFJQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQURGOztBQUlBO0VBQ0UsaUJBQUE7QUFERjs7QUFJQTtFQUNFLHFCQUFBO0VBQ0EsZ0JBQUE7QUFERjs7QUFJQTtFQUNFLGtCQUFBO0FBREY7QUFHRTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQURKOztBQUtBO0VBQ0UscUJBQUE7QUFGRjtBQUlFO0VBQ0UsZ0JBQUE7QUFGSjs7QUFPQTtFQUNFO0lBQ0UsYUFBQTtFQUpGO0VBT0E7SUFDRSxhQUFBO0lBQ0EsYUFBQTtFQUxGO0VBT0U7SUFDRSwyQkFBQTtJQUNBLDRCQUFBO0VBTEo7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5zaGFkb3ctc20ge1xyXG4gIGJveC1zaGFkb3c6IDAgMC4xMjVyZW0gMC4yNXJlbSByZ2JhKDAsIDAsIDAsIDAuMDc1KSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICBcclxuICAmOmhvdmVyIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNXB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgMC41cmVtIDFyZW0gcmdiYSgwLCAwLCAwLCAwLjE1KSAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG5cclxuLmNoYXJ0LWNvbnRhaW5lciB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBoZWlnaHQ6IDMwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGNhbnZhcyB7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG4uZG91Z2hudXQtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgaGVpZ2h0OiAzMDBweDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIFxyXG4gIGNhbnZhcyB7XHJcbiAgICBtYXgtd2lkdGg6IDMwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBtYXgtaGVpZ2h0OiAzMDBweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG5cclxuaDMge1xyXG4gIGZvbnQtc2l6ZTogMnJlbTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4udGV4dC1tdXRlZCB7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbn1cclxuXHJcbi5iYWRnZSB7XHJcbiAgcGFkZGluZzogMC41ZW0gMC43NWVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi50YWJsZSB7XHJcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xyXG4gIFxyXG4gIHRoIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBjb2xvcjogIzQ5NTA1NztcclxuICB9XHJcbn1cclxuXHJcbi5jYXJkLWhlYWRlciB7XHJcbiAgcGFkZGluZzogMXJlbSAxLjI1cmVtO1xyXG4gIFxyXG4gIGg1IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBSZXNwb25zaXZlIGFkanVzdG1lbnRzXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5jaGFydC1jb250YWluZXIge1xyXG4gICAgaGVpZ2h0OiAyNTBweDtcclxuICB9XHJcbiAgXHJcbiAgLmRvdWdobnV0LWNvbnRhaW5lciB7XHJcbiAgICBoZWlnaHQ6IDI1MHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIFxyXG4gICAgY2FudmFzIHtcclxuICAgICAgbWF4LXdpZHRoOiAyNTBweCAhaW1wb3J0YW50O1xyXG4gICAgICBtYXgtaGVpZ2h0OiAyNTBweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gIH1cclxufSAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterLink","Chart","NavbarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","activity_r1","title","activityType","ɵɵpipeBind2","date","ɵɵproperty","ɵɵpureFunction3","_c2","status","ɵɵtextInterpolate1","ɵɵpipeBind1","pointsAwarded","ɵɵelement","ɵɵtemplate","StudentDashboardComponent_div_10_tr_71_Template","StudentDashboardComponent_div_10_tr_72_Template","ctx_r1","totalPoints","totalActivities","approvedActivities","pendingActivities","doughnutChartData","doughnutChartOptions","barChartData","barChartOptions","barChartType","activities","length","slice","StudentDashboardComponent","constructor","activityService","authService","router","currentUser","isLoading","errorMessage","pendingCount","approvedCount","rejectedCount","pointsBySemester","pointsByType","sports","mooc","workshops","internships","doughnutChart","barChart","ngOnInit","getCurrentUser","navigate","loadActivities","ngAfterViewInit","setTimeout","initializeCharts","getMyActivities","subscribe","next","response","success","data","calculateStats","message","error","console","forEach","activity","points","semester","log","doughnutChartCanvas","barChartCanvas","doughnutCtx","nativeElement","getContext","doughnutConfig","type","labels","datasets","backgroundColor","borderWidth","options","responsive","maintainAspectRatio","layout","padding","plugins","legend","position","font","size","boxWidth","barCtx","semesters","Object","keys","map","Number","sort","a","b","sem","barConfig","label","borderColor","scales","y","beginAtZero","display","text","x","ngOnDestroy","destroy","ɵɵdirectiveInject","i1","ActivityService","i2","AuthService","i3","Router","selectors","viewQuery","StudentDashboardComponent_Query","rf","ctx","StudentDashboardComponent_div_9_Template","StudentDashboardComponent_div_10_Template","i4","NgClass","NgForOf","NgIf","TitleCasePipe","DatePipe","styles"],"sources":["C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\dashboard\\student-dashboard\\student-dashboard.component.ts","C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\dashboard\\student-dashboard\\student-dashboard.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { Chart, ChartConfiguration, ChartType } from 'chart.js';\r\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\r\nimport { ActivityService } from '../../../core/services/activity.service';\r\nimport { AuthService } from '../../../core/services/auth.service';\r\nimport { User } from '../../../core/models/user.model';\r\nimport { Activity } from '../../../core/models/activity.model';\r\nimport { ApiResponse } from '../../../core/models/api-response.model';\r\n\r\n@Component({\r\n  selector: 'app-student-dashboard',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterLink, NavbarComponent],\r\n  templateUrl: './student-dashboard.component.html',\r\n  styleUrls: ['./student-dashboard.component.scss']\r\n})\r\nexport class StudentDashboardComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('doughnutChart') doughnutChartCanvas!: ElementRef<HTMLCanvasElement>;\r\n  @ViewChild('barChart') barChartCanvas!: ElementRef<HTMLCanvasElement>;\r\n  \r\n  currentUser: User | null = null;\r\n  activities: Activity[] = [];\r\n  isLoading = true;\r\n  errorMessage = '';\r\n  totalPoints = 0;\r\n  pendingCount = 0;\r\n  approvedCount = 0;\r\n  rejectedCount = 0;\r\n  pointsBySemester: Record<number, number> = {};\r\n  pointsByType: Record<string, number> = {\r\n    sports: 0,\r\n    mooc: 0,\r\n    workshops: 0,\r\n    internships: 0\r\n  };\r\n  \r\n  doughnutChart: Chart | null = null;\r\n  barChart: Chart | null = null;\r\n\r\n  constructor(\r\n    private activityService: ActivityService,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    if (!this.currentUser) {\r\n      this.router.navigate(['/auth/login']);\r\n      return;\r\n    }\r\n    this.loadActivities();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // Initialize charts after view is ready\r\n    setTimeout(() => {\r\n      this.initializeCharts();\r\n    }, 0);\r\n  }\r\n\r\n  private loadActivities(): void {\r\n    this.isLoading = true;\r\n    this.errorMessage = '';\r\n    \r\n    this.activityService.getMyActivities().subscribe({\r\n      next: (response: ApiResponse<Activity[]>) => {\r\n        if (response.success && response.data) {\r\n          this.activities = response.data;\r\n          this.calculateStats();\r\n        } else {\r\n          this.errorMessage = response.message || 'Failed to load activities';\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading activities:', error);\r\n        this.errorMessage = 'Failed to load activities. Please try again later.';\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private calculateStats(): void {\r\n    // Reset counters\r\n    this.totalPoints = 0;\r\n    this.pendingCount = 0;\r\n    this.approvedCount = 0;\r\n    this.rejectedCount = 0;\r\n    this.pointsBySemester = {};\r\n    this.pointsByType = {\r\n      sports: 0,\r\n      mooc: 0,\r\n      workshops: 0,\r\n      internships: 0\r\n    };\r\n\r\n    // Calculate statistics\r\n    this.activities.forEach(activity => {\r\n      // Count by status\r\n      switch (activity.status) {\r\n        case 'pending':\r\n          this.pendingCount++;\r\n          break;\r\n        case 'approved':\r\n          this.approvedCount++;\r\n          this.totalPoints += activity.points;\r\n          break;\r\n        case 'rejected':\r\n          this.rejectedCount++;\r\n          break;\r\n      }\r\n\r\n      // Calculate points by semester\r\n      if (activity.status === 'approved') {\r\n        this.pointsBySemester[activity.semester] = (this.pointsBySemester[activity.semester] || 0) + activity.points;\r\n      }\r\n\r\n      // Calculate points by type\r\n      if (activity.status === 'approved') {\r\n        this.pointsByType[activity.activityType] = (this.pointsByType[activity.activityType] || 0) + activity.points;\r\n      }\r\n    });\r\n\r\n    console.log('Points by semester:', this.pointsBySemester);\r\n    console.log('Points by type:', this.pointsByType);\r\n  }\r\n\r\n  private initializeCharts(): void {\r\n    if (!this.doughnutChartCanvas || !this.barChartCanvas) {\r\n      console.error('Chart canvases not found');\r\n      return;\r\n    }\r\n\r\n    // Initialize Doughnut Chart\r\n    const doughnutCtx = this.doughnutChartCanvas.nativeElement.getContext('2d');\r\n    if (!doughnutCtx) {\r\n      console.error('Could not get doughnut chart context');\r\n      return;\r\n    }\r\n\r\n    const doughnutConfig: ChartConfiguration = {\r\n      type: 'doughnut',\r\n      data: {\r\n        labels: ['Pending', 'Approved', 'Rejected'],\r\n        datasets: [{\r\n          data: [this.pendingCount, this.approvedCount, this.rejectedCount],\r\n          backgroundColor: ['#FFA500', '#4CAF50', '#F44336'],\r\n          borderWidth: 1\r\n        }]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: true,\r\n        layout: {\r\n          padding: 10\r\n        },\r\n        plugins: {\r\n          legend: {\r\n            position: 'bottom',\r\n            labels: {\r\n              padding: 15,\r\n              font: {\r\n                size: 11\r\n              },\r\n              boxWidth: 12\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.doughnutChart = new Chart(doughnutCtx, doughnutConfig);\r\n\r\n    // Initialize Bar Chart\r\n    const barCtx = this.barChartCanvas.nativeElement.getContext('2d');\r\n    if (!barCtx) {\r\n      console.error('Could not get bar chart context');\r\n      return;\r\n    }\r\n\r\n    const semesters = Object.keys(this.pointsBySemester).map(Number).sort((a, b) => a - b);\r\n    const points = semesters.map(sem => this.pointsBySemester[sem]);\r\n\r\n    const barConfig: ChartConfiguration = {\r\n      type: 'bar',\r\n      data: {\r\n        labels: semesters.map(sem => `Semester ${sem}`),\r\n        datasets: [{\r\n          label: 'Points',\r\n          data: points,\r\n          backgroundColor: '#4CAF50',\r\n          borderColor: '#388E3C',\r\n          borderWidth: 1\r\n        }]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: true,\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n            title: {\r\n              display: true,\r\n              text: 'Points'\r\n            }\r\n          },\r\n          x: {\r\n            title: {\r\n              display: true,\r\n              text: 'Semester'\r\n            }\r\n          }\r\n        },\r\n        plugins: {\r\n          legend: {\r\n            display: false\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.barChart = new Chart(barCtx, barConfig);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.doughnutChart) {\r\n      this.doughnutChart.destroy();\r\n    }\r\n    if (this.barChart) {\r\n      this.barChart.destroy();\r\n    }\r\n  }\r\n} ","<app-navbar></app-navbar>\r\n\r\n<div class=\"container py-4\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-12\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <h1 class=\"mb-0\">Student Dashboard</h1>\r\n        <a routerLink=\"/activities/submit\" class=\"btn btn-primary\">Submit New Activity</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading Spinner -->\r\n  <div *ngIf=\"isLoading\" class=\"text-center py-5\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n    <p class=\"mt-2\">Loading your dashboard...</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!isLoading\">\r\n    <!-- Stats Cards -->\r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-md-3 mb-3 mb-md-0\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-primary mb-0\">{{ totalPoints }}</h3>\r\n            <p class=\"text-muted mb-0\">Total Points</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-3 mb-3 mb-md-0\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-info mb-0\">{{ totalActivities }}</h3>\r\n            <p class=\"text-muted mb-0\">Total Activities</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-3 mb-3 mb-md-0\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-success mb-0\">{{ approvedActivities }}</h3>\r\n            <p class=\"text-muted mb-0\">Approved</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-3\">\r\n        <div class=\"card h-100 border-0 shadow-sm\">\r\n          <div class=\"card-body d-flex flex-column align-items-center\">\r\n            <h3 class=\"text-warning mb-0\">{{ pendingActivities }}</h3>\r\n            <p class=\"text-muted mb-0\">Pending</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Charts -->\r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-md-6 mb-4 mb-md-0\">\r\n        <div class=\"card border-0 shadow-sm h-100\">\r\n          <div class=\"card-header bg-white border-0\">\r\n            <h5 class=\"mb-0\">Activity Status</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"chart-container doughnut-container\">\r\n              <canvas baseChart\r\n                [data]=\"doughnutChartData\"\r\n                [options]=\"doughnutChartOptions\"\r\n                [type]=\"'doughnut'\">\r\n              </canvas>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-6\">\r\n        <div class=\"card border-0 shadow-sm h-100\">\r\n          <div class=\"card-header bg-white border-0\">\r\n            <h5 class=\"mb-0\">Points by Semester</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"chart-container\" style=\"position: relative; height: 300px; width: 100%;\">\r\n              <canvas baseChart\r\n                [data]=\"barChartData\"\r\n                [options]=\"barChartOptions\"\r\n                [type]=\"barChartType\">\r\n              </canvas>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Recent Activities -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card border-0 shadow-sm\">\r\n          <div class=\"card-header bg-white border-0 d-flex justify-content-between align-items-center\">\r\n            <h5 class=\"mb-0\">Recent Activities</h5>\r\n            <a routerLink=\"/activities\" class=\"btn btn-sm btn-outline-primary\">View All</a>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-hover\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Title</th>\r\n                    <th>Type</th>\r\n                    <th>Date</th>\r\n                    <th>Status</th>\r\n                    <th>Points</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngIf=\"activities.length === 0\">\r\n                    <td colspan=\"5\" class=\"text-center py-3\">No activities submitted yet.</td>\r\n                  </tr>\r\n                  <tr *ngFor=\"let activity of activities.slice(0, 5)\">\r\n                    <td>{{ activity.title }}</td>\r\n                    <td>{{ activity.activityType }}</td>\r\n                    <td>{{ activity.date | date:'mediumDate' }}</td>\r\n                    <td>\r\n                      <span class=\"badge\" [ngClass]=\"{\r\n                        'bg-success': activity.status === 'approved',\r\n                        'bg-warning': activity.status === 'pending',\r\n                        'bg-danger': activity.status === 'rejected'\r\n                      }\">\r\n                        {{ activity.status | titlecase }}\r\n                      </span>\r\n                    </td>\r\n                    <td>{{ activity.pointsAwarded || 0 }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}