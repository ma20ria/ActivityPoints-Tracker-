{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/auth.service\";\nimport * as i3 from \"../../../core/services/activity.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ActivitySubmitComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Drag & drop your certificate here or click to browse\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.selectedFile.name);\n  }\n}\nfunction ActivitySubmitComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Title is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Event organizer is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_option_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, type_r2));\n  }\n}\nfunction ActivitySubmitComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Activity type is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Valid date is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_54_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const level_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", level_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Level \", level_r3, \"\");\n  }\n}\nfunction ActivitySubmitComponent_div_54_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Level is required for sports activities \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"label\", 48);\n    i0.ɵɵtext(2, \"Activity Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 49)(4, \"option\", 31);\n    i0.ɵɵtext(5, \"Select Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ActivitySubmitComponent_div_54_option_6_Template, 2, 2, \"option\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ActivitySubmitComponent_div_54_div_7_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_3_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", ((tmp_1_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_1_0.touched));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.levels);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_3_0.touched));\n  }\n}\nfunction ActivitySubmitComponent_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sem_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", sem_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Semester \", sem_r4, \"\");\n  }\n}\nfunction ActivitySubmitComponent_div_62_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Semester is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_62_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Semester must be between 1 and 8 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtemplate(1, ActivitySubmitComponent_div_62_span_1_Template, 2, 0, \"span\", 20)(2, ActivitySubmitComponent_div_62_span_2_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"min\"]) || ((tmp_2_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"max\"]));\n  }\n}\nfunction ActivitySubmitComponent_div_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Description is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 50);\n    i0.ɵɵtext(2, \"Submitting... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Activity\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ActivitySubmitComponent = /*#__PURE__*/(() => {\n  class ActivitySubmitComponent {\n    constructor(fb, authService, activityService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.activityService = activityService;\n      this.router = router;\n      this.currentUser = null;\n      this.isLoading = false;\n      this.isSubmitting = false;\n      this.errorMessage = '';\n      this.successMessage = '';\n      this.selectedFile = null;\n      this.calculatedPoints = 0;\n      this.today = new Date().toISOString().split('T')[0];\n      this.activityTypes = ['sports', 'mooc', 'workshops', 'internships'];\n      this.levels = [1, 2, 3, 4, 5];\n      this.semesters = [1, 2, 3, 4, 5, 6, 7, 8];\n      this.sportsPointsMap = {\n        1: 8,\n        2: 15,\n        3: 25,\n        4: 40,\n        5: 50\n      };\n      this.activityForm = this.fb.group({\n        title: ['', [Validators.required]],\n        activityType: ['', [Validators.required]],\n        description: ['', [Validators.required]],\n        eventOrganizer: ['', [Validators.required]],\n        date: ['', [Validators.required]],\n        level: [''],\n        points: [0],\n        semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\n      });\n      // Calculate points when activity type or level changes\n      this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\n        this.calculatePoints();\n        this.updateLevelValidation();\n      });\n      this.activityForm.get('level')?.valueChanges.subscribe(() => {\n        this.calculatePoints();\n      });\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.getCurrentUser();\n      if (!this.currentUser) {\n        this.router.navigate(['/login']);\n      }\n    }\n    updateLevelValidation() {\n      const activityType = this.activityForm.get('activityType')?.value;\n      const levelControl = this.activityForm.get('level');\n      if (activityType === 'sports') {\n        levelControl?.setValidators([Validators.required, Validators.min(1), Validators.max(5)]);\n      } else {\n        levelControl?.clearValidators();\n      }\n      levelControl?.updateValueAndValidity();\n    }\n    calculatePoints() {\n      const activityType = this.activityForm.get('activityType')?.value;\n      const level = Number(this.activityForm.get('level')?.value);\n      if (!activityType) {\n        this.calculatedPoints = 0;\n        return;\n      }\n      switch (activityType) {\n        case 'sports':\n          this.calculatedPoints = this.sportsPointsMap[level] || 0;\n          break;\n        case 'mooc':\n          this.calculatedPoints = 50;\n          break;\n        case 'workshops':\n          this.calculatedPoints = 6;\n          break;\n        case 'internships':\n          this.calculatedPoints = 20;\n          break;\n        default:\n          this.calculatedPoints = 0;\n      }\n      this.activityForm.patchValue({\n        points: this.calculatedPoints\n      }, {\n        emitEvent: false\n      });\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file) {\n        // Check file size (5MB limit)\n        if (file.size > 5 * 1024 * 1024) {\n          this.errorMessage = 'File size exceeds 5MB limit';\n          event.target.value = '';\n          this.selectedFile = null;\n          return;\n        }\n        // Check file type\n        const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n        if (!allowedTypes.includes(file.type)) {\n          this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\n          event.target.value = '';\n          this.selectedFile = null;\n          return;\n        }\n        this.selectedFile = file;\n        this.errorMessage = '';\n      }\n    }\n    onSubmit() {\n      if (this.activityForm.invalid) {\n        this.errorMessage = 'Please fill in all required fields correctly.';\n        Object.keys(this.activityForm.controls).forEach(key => {\n          const control = this.activityForm.get(key);\n          if (control?.invalid) {\n            control.markAsTouched();\n          }\n        });\n        return;\n      }\n      if (!this.selectedFile) {\n        this.errorMessage = 'Please upload a certificate.';\n        return;\n      }\n      this.isSubmitting = true;\n      this.errorMessage = '';\n      this.successMessage = '';\n      // Create FormData object\n      const formData = new FormData();\n      // Add the file with the correct field name\n      console.log('File being uploaded:', this.selectedFile);\n      formData.append('certificate', this.selectedFile, this.selectedFile.name);\n      // Add all form values to formData, ensuring proper type conversion\n      const formValues = this.activityForm.value;\n      console.log('Form values:', formValues);\n      // Append form fields with proper type conversion\n      formData.append('activityType', formValues.activityType);\n      formData.append('title', formValues.title.trim());\n      formData.append('description', formValues.description.trim());\n      formData.append('eventOrganizer', (formValues.eventOrganizer || 'Not specified').trim());\n      formData.append('date', new Date(formValues.date).toISOString());\n      formData.append('semester', formValues.semester.toString());\n      formData.append('points', this.calculatedPoints.toString());\n      // Only append level for sports activities\n      if (formValues.activityType === 'sports' && formValues.level) {\n        formData.append('level', formValues.level.toString());\n      }\n      // Add student information\n      if (this.currentUser && this.currentUser._id && this.currentUser.name && this.currentUser.class && this.currentUser.department) {\n        formData.append('studentId', this.currentUser._id);\n        formData.append('studentName', this.currentUser.name);\n        formData.append('studentClass', this.currentUser.class);\n        formData.append('studentDepartment', this.currentUser.department);\n      } else {\n        console.error('Missing required user information');\n        this.errorMessage = 'Missing user information. Please log in again.';\n        this.isSubmitting = false;\n        return;\n      }\n      // Log the complete FormData\n      console.log('FormData entries:');\n      formData.forEach((value, key) => {\n        console.log(key, ':', value);\n      });\n      this.activityService.submitActivity(formData).subscribe({\n        next: response => {\n          console.log('Submission successful:', response);\n          this.isSubmitting = false;\n          this.successMessage = response.message || 'Activity submitted successfully! Your certificate will be reviewed by your teacher.';\n          // Reset form\n          this.activityForm.reset();\n          this.selectedFile = null;\n          // Reset file input\n          const fileInput = document.getElementById('certificateFile');\n          if (fileInput) {\n            fileInput.value = '';\n          }\n          // Reset form to initial state\n          this.activityForm.patchValue({\n            activityType: '',\n            level: '',\n            points: 0\n          });\n          this.calculatedPoints = 0;\n          setTimeout(() => {\n            this.router.navigate(['/activities']);\n          }, 2000);\n        },\n        error: error => {\n          console.error('Submission error:', error);\n          this.isSubmitting = false;\n          if (error.error && error.error.message) {\n            this.errorMessage = error.error.message;\n          } else if (error.status === 0) {\n            this.errorMessage = 'Unable to connect to the server. Please check your internet connection.';\n          } else if (error.status === 413) {\n            this.errorMessage = 'File size is too large. Please upload a smaller file.';\n          } else if (error.status === 500) {\n            this.errorMessage = 'Server error. Please try again later or contact support.';\n          } else {\n            this.errorMessage = 'Failed to submit activity. Please try again.';\n          }\n          // Log detailed error information\n          console.error('Error details:', {\n            status: error.status,\n            statusText: error.statusText,\n            error: error.error,\n            message: error.message\n          });\n        }\n      });\n    }\n    static {\n      this.ɵfac = function ActivitySubmitComponent_Factory(t) {\n        return new (t || ActivitySubmitComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivityService), i0.ɵɵdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ActivitySubmitComponent,\n        selectors: [[\"app-activity-submit\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 78,\n        vars: 33,\n        consts: [[1, \"container\", \"py-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"routerLink\", \"/dashboard/student\", 1, \"btn\", \"btn-outline-primary\"], [1, \"card\", \"border-0\", \"shadow-sm\"], [1, \"card-body\", \"p-4\"], [\"class\", \"alert alert-success mb-4\", 4, \"ngIf\"], [\"class\", \"alert alert-danger mb-4\", 4, \"ngIf\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"mb-4\"], [1, \"mb-3\"], [1, \"certificate-upload-container\"], [1, \"certificate-upload-box\"], [\"type\", \"file\", \"id\", \"certificateFile\", \"accept\", \".pdf,.jpg,.jpeg,.png\", 1, \"file-input\", 3, \"change\"], [\"for\", \"certificateFile\", 1, \"file-label\"], [1, \"upload-icon\"], [1, \"bi\", \"bi-cloud-arrow-up\"], [1, \"upload-text\"], [4, \"ngIf\"], [1, \"text-muted\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"eventOrganizer\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"eventOrganizer\", \"formControlName\", \"eventOrganizer\", 1, \"form-input\"], [\"for\", \"activityType\", 1, \"form-label\"], [\"id\", \"activityType\", \"formControlName\", \"activityType\", 1, \"form-input\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"date\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"date\", \"formControlName\", \"date\", 1, \"form-input\", 3, \"max\"], [\"class\", \"col-md-6 mb-3\", 4, \"ngIf\"], [\"for\", \"semester\", 1, \"form-label\"], [\"id\", \"semester\", \"formControlName\", \"semester\", 1, \"form-input\"], [1, \"form-label\"], [1, \"form-control\", \"bg-light\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"4\", 1, \"form-input\"], [1, \"d-grid\", \"gap-2\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"alert\", \"alert-success\", \"mb-4\"], [1, \"alert\", \"alert-danger\", \"mb-4\"], [1, \"invalid-feedback\"], [3, \"value\"], [\"for\", \"level\", 1, \"form-label\"], [\"id\", \"level\", \"formControlName\", \"level\", 1, \"form-input\"], [1, \"bi\", \"bi-arrow-repeat\", \"spin\", \"me-2\"]],\n        template: function ActivitySubmitComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-navbar\");\n            i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h1\", 4);\n            i0.ɵɵtext(6, \"Submit Activity\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"a\", 5);\n            i0.ɵɵtext(8, \"Back to Dashboard\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7);\n            i0.ɵɵtemplate(11, ActivitySubmitComponent_div_11_Template, 2, 1, \"div\", 8)(12, ActivitySubmitComponent_div_12_Template, 2, 1, \"div\", 9);\n            i0.ɵɵelementStart(13, \"form\", 10);\n            i0.ɵɵlistener(\"ngSubmit\", function ActivitySubmitComponent_Template_form_ngSubmit_13_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(14, \"div\", 11)(15, \"h5\", 12);\n            i0.ɵɵtext(16, \"Upload Certificate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"div\", 13)(18, \"div\", 14)(19, \"input\", 15);\n            i0.ɵɵlistener(\"change\", function ActivitySubmitComponent_Template_input_change_19_listener($event) {\n              return ctx.onFileSelected($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"label\", 16)(21, \"div\", 17);\n            i0.ɵɵelement(22, \"i\", 18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"div\", 19);\n            i0.ɵɵtemplate(24, ActivitySubmitComponent_span_24_Template, 2, 0, \"span\", 20)(25, ActivitySubmitComponent_span_25_Template, 2, 1, \"span\", 20);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(26, \"small\", 21);\n            i0.ɵɵtext(27, \"Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(28, \"div\", 22)(29, \"div\", 23)(30, \"label\", 24);\n            i0.ɵɵtext(31, \"Certificate Title\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(32, \"input\", 25);\n            i0.ɵɵtemplate(33, ActivitySubmitComponent_div_33_Template, 2, 0, \"div\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"div\", 23)(35, \"label\", 27);\n            i0.ɵɵtext(36, \"Event Organizer\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(37, \"input\", 28);\n            i0.ɵɵtemplate(38, ActivitySubmitComponent_div_38_Template, 2, 0, \"div\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(39, \"div\", 22)(40, \"div\", 23)(41, \"label\", 29);\n            i0.ɵɵtext(42, \"Activity Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"select\", 30)(44, \"option\", 31);\n            i0.ɵɵtext(45, \"Select Activity Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(46, ActivitySubmitComponent_option_46_Template, 3, 4, \"option\", 32);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(47, ActivitySubmitComponent_div_47_Template, 2, 0, \"div\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(48, \"div\", 23)(49, \"label\", 33);\n            i0.ɵɵtext(50, \"Certificate Date\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(51, \"input\", 34);\n            i0.ɵɵtemplate(52, ActivitySubmitComponent_div_52_Template, 2, 0, \"div\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(53, \"div\", 22);\n            i0.ɵɵtemplate(54, ActivitySubmitComponent_div_54_Template, 8, 4, \"div\", 35);\n            i0.ɵɵelementStart(55, \"div\", 23)(56, \"label\", 36);\n            i0.ɵɵtext(57, \"Semester\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(58, \"select\", 37)(59, \"option\", 31);\n            i0.ɵɵtext(60, \"Select Semester\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(61, ActivitySubmitComponent_option_61_Template, 2, 2, \"option\", 32);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(62, ActivitySubmitComponent_div_62_Template, 3, 2, \"div\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(63, \"div\", 22)(64, \"div\", 23)(65, \"label\", 38);\n            i0.ɵɵtext(66, \"Points\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(67, \"div\", 39);\n            i0.ɵɵtext(68);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(69, \"div\", 12)(70, \"label\", 40);\n            i0.ɵɵtext(71, \"Description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(72, \"textarea\", 41);\n            i0.ɵɵtemplate(73, ActivitySubmitComponent_div_73_Template, 2, 0, \"div\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(74, \"div\", 42)(75, \"button\", 43);\n            i0.ɵɵtemplate(76, ActivitySubmitComponent_span_76_Template, 3, 0, \"span\", 20)(77, ActivitySubmitComponent_span_77_Template, 2, 0, \"span\", 20);\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_6_0;\n            let tmp_7_0;\n            let tmp_8_0;\n            let tmp_9_0;\n            let tmp_10_0;\n            let tmp_12_0;\n            let tmp_13_0;\n            let tmp_15_0;\n            let tmp_16_0;\n            let tmp_17_0;\n            let tmp_19_0;\n            let tmp_21_0;\n            let tmp_22_0;\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"formGroup\", ctx.activityForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"is-invalid\", !ctx.selectedFile && ctx.activityForm.touched);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n            i0.ɵɵadvance(7);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_6_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_6_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_7_0.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_8_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_8_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_9_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_10_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_10_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.activityTypes);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_12_0.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_13_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_13_0.invalid) && ((tmp_13_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_13_0.touched));\n            i0.ɵɵproperty(\"max\", ctx.today);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_15_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_15_0.invalid) && ((tmp_15_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_15_0.touched));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_16_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_16_0.value) === \"sports\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_17_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_17_0.invalid) && ((tmp_17_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_17_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.semesters);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_19_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_19_0.invalid) && ((tmp_19_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_19_0.touched));\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\" \", ctx.calculatedPoints, \" points \");\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_21_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_21_0.invalid) && ((tmp_21_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_21_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_22_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_22_0.invalid) && ((tmp_22_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_22_0.touched));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.activityForm.invalid || ctx.isSubmitting || !ctx.selectedFile);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n          }\n        },\n        dependencies: [CommonModule, i5.NgForOf, i5.NgIf, i5.TitleCasePipe, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterLink, NavbarComponent],\n        styles: [\".shadow-sm[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013!important}.form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #ced4da;border-radius:.375rem;font-size:1rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.form-input.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.certificate-upload-container[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.certificate-upload-box[_ngcontent-%COMP%]{position:relative;width:100%;min-height:150px;border:2px dashed #ced4da;border-radius:.5rem;display:flex;justify-content:center;align-items:center;overflow:hidden;transition:border-color .3s ease}.certificate-upload-box[_ngcontent-%COMP%]:hover{border-color:#80bdff}.file-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;z-index:2}.file-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;padding:2rem;cursor:pointer}.upload-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#6c757d;margin-bottom:1rem}.upload-text[_ngcontent-%COMP%]{text-align:center;color:#6c757d}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:100px}\"]\n      });\n    }\n  }\n  return ActivitySubmitComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}