{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/auth.service\";\nimport * as i3 from \"../../../core/services/activity.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/common\";\nconst _c0 = a0 => ({\n  \"is-invalid\": a0\n});\nfunction ActivitySubmitComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Drag & drop your certificate here or click to browse\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.selectedFile.name);\n  }\n}\nfunction ActivitySubmitComponent_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, type_r2));\n  }\n}\nfunction ActivitySubmitComponent_div_50_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const level_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", level_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Level \", level_r3, \"\");\n  }\n}\nfunction ActivitySubmitComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"label\", 47);\n    i0.ɵɵtext(2, \"Activity Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 48)(4, \"option\", 30);\n    i0.ɵɵtext(5, \"Select Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ActivitySubmitComponent_div_50_option_6_Template, 2, 2, \"option\", 31);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.levels);\n  }\n}\nfunction ActivitySubmitComponent_option_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sem_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", sem_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Semester \", sem_r4, \"\");\n  }\n}\nfunction ActivitySubmitComponent_div_58_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Semester is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtemplate(1, ActivitySubmitComponent_div_58_small_1_Template, 2, 0, \"small\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n  }\n}\nfunction ActivitySubmitComponent_span_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submitting...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Activity\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ActivitySubmitComponent {\n  constructor(fb, authService, activityService, router, http) {\n    this.fb = fb;\n    this.authService = authService;\n    this.activityService = activityService;\n    this.router = router;\n    this.http = http;\n    this.currentUser = null;\n    this.isLoading = false;\n    this.isSubmitting = false;\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.selectedFile = null;\n    this.calculatedPoints = 0;\n    this.activityTypes = ['sports', 'mooc', 'workshops', 'internships'];\n    this.levels = [1, 2, 3, 4, 5];\n    this.semesters = [1, 2, 3, 4, 5, 6, 7, 8];\n    this.sportsPointsMap = {\n      1: 8,\n      2: 15,\n      3: 25,\n      4: 40,\n      5: 50\n    };\n    this.activityForm = this.fb.group({\n      title: ['', Validators.required],\n      activityType: ['', Validators.required],\n      description: ['', Validators.required],\n      eventOrganizer: ['', Validators.required],\n      date: ['', Validators.required],\n      level: [''],\n      points: [0, Validators.required],\n      semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\n    });\n    // Calculate points when activity type or level changes\n    this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n      this.updateLevelValidation();\n    });\n    this.activityForm.get('level')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n  }\n  updateLevelValidation() {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const levelControl = this.activityForm.get('level');\n    if (activityType === 'sports') {\n      levelControl?.setValidators([Validators.required]);\n    } else {\n      levelControl?.clearValidators();\n    }\n    levelControl?.updateValueAndValidity();\n  }\n  calculatePoints() {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const level = Number(this.activityForm.get('level')?.value);\n    if (!activityType) {\n      this.calculatedPoints = 0;\n      return;\n    }\n    switch (activityType) {\n      case 'sports':\n        this.calculatedPoints = this.sportsPointsMap[level] || 0;\n        break;\n      case 'mooc':\n        this.calculatedPoints = 50;\n        break;\n      case 'workshops':\n        this.calculatedPoints = 6;\n        break;\n      case 'internships':\n        this.calculatedPoints = 20;\n        break;\n      default:\n        this.calculatedPoints = 0;\n    }\n    this.activityForm.patchValue({\n      points: this.calculatedPoints\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      // Check file size (5MB limit)\n      if (file.size > 5 * 1024 * 1024) {\n        this.errorMessage = 'File size exceeds 5MB limit';\n        event.target.value = '';\n        this.selectedFile = null;\n        return;\n      }\n      // Check file type\n      const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n      if (!allowedTypes.includes(file.type)) {\n        this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\n        event.target.value = '';\n        this.selectedFile = null;\n        return;\n      }\n      this.selectedFile = file;\n      this.errorMessage = '';\n    }\n  }\n  onSubmit() {\n    if (this.activityForm.invalid || !this.selectedFile) {\n      this.errorMessage = 'Please fill in all required fields and upload a certificate.';\n      return;\n    }\n    if (!this.currentUser) {\n      this.errorMessage = 'Please login to submit an activity.';\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n    this.isSubmitting = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n    const formData = new FormData();\n    // Add the file with the correct field name\n    formData.append('certificateFile', this.selectedFile);\n    // Get form values\n    const formValues = this.activityForm.value;\n    const activityData = {\n      title: formValues.title,\n      activityType: formValues.activityType,\n      description: formValues.description,\n      eventOrganizer: formValues.eventOrganizer,\n      date: formValues.date,\n      semester: Number(formValues.semester),\n      points: Number(this.calculatedPoints),\n      status: 'pending'\n    };\n    // Add level only for sports activities\n    if (formValues.activityType === 'sports') {\n      activityData.level = Number(formValues.level); // Ensure level is a number\n    }\n    // Add student information\n    const studentData = {\n      studentId: this.currentUser._id,\n      studentName: this.currentUser.name,\n      studentDepartment: this.currentUser.department,\n      studentClass: this.currentUser.class,\n      studentSemester: Number(this.currentUser.semester),\n      studentRollNumber: this.currentUser.rollNumber\n    };\n    // Add all data to formData\n    formData.append('activityData', JSON.stringify(activityData));\n    formData.append('studentData', JSON.stringify(studentData));\n    console.log('Submitting activity with data:', {\n      activity: activityData,\n      student: studentData\n    });\n    this.activityService.submitActivity(formData).subscribe({\n      next: response => {\n        console.log('Submission response:', response);\n        if (response && response.success) {\n          this.successMessage = 'Activity submitted successfully! Your request has been sent to the teacher for review.';\n          // Reset form and file\n          this.activityForm.reset();\n          this.selectedFile = null;\n          const fileInput = document.getElementById('certificateFile');\n          if (fileInput) {\n            fileInput.value = '';\n          }\n          // Navigate back to dashboard after short delay\n          setTimeout(() => {\n            this.router.navigate(['/dashboard/student']);\n          }, 2000);\n        } else {\n          this.isSubmitting = false;\n          this.errorMessage = response && response.message || 'Failed to submit activity. Please try again.';\n        }\n      },\n      error: error => {\n        this.isSubmitting = false;\n        console.error('Submit error:', error);\n        if (error.status === 401) {\n          this.errorMessage = 'Your session has expired. Please login again.';\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        } else {\n          this.errorMessage = error.message || 'Server error. Please try again.';\n        }\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ActivitySubmitComponent_Factory(t) {\n      return new (t || ActivitySubmitComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivityService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ActivitySubmitComponent,\n      selectors: [[\"app-activity-submit\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 73,\n      vars: 16,\n      consts: [[1, \"container\", \"py-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"routerLink\", \"/dashboard/student\", 1, \"btn\", \"btn-outline-primary\"], [1, \"card\", \"border-0\", \"shadow-sm\"], [1, \"card-body\", \"p-4\"], [\"class\", \"alert alert-success mb-4\", 4, \"ngIf\"], [\"class\", \"alert alert-danger mb-4\", 4, \"ngIf\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"mb-4\"], [1, \"mb-3\"], [1, \"certificate-upload-container\"], [1, \"certificate-upload-box\"], [\"type\", \"file\", \"id\", \"certificateFile\", \"accept\", \".pdf,.jpg,.jpeg,.png\", 1, \"file-input\", 3, \"change\"], [\"for\", \"certificateFile\", 1, \"file-label\"], [1, \"upload-icon\"], [1, \"bi\", \"bi-cloud-arrow-up\"], [1, \"upload-text\"], [4, \"ngIf\"], [1, \"text-muted\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"for\", \"eventOrganizer\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"eventOrganizer\", \"formControlName\", \"eventOrganizer\", 1, \"form-input\"], [\"for\", \"activityType\", 1, \"form-label\"], [\"id\", \"activityType\", \"formControlName\", \"activityType\", 1, \"form-input\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"date\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"date\", \"formControlName\", \"date\", 1, \"form-input\"], [\"class\", \"col-md-6 mb-3\", 4, \"ngIf\"], [\"for\", \"semester\", 1, \"form-label\"], [\"id\", \"semester\", \"formControlName\", \"semester\", 1, \"form-input\", 3, \"ngClass\"], [\"class\", \"text-danger mt-1\", 4, \"ngIf\"], [1, \"form-label\"], [1, \"form-control\", \"bg-light\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"4\", 1, \"form-input\"], [1, \"d-grid\", \"gap-2\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"alert\", \"alert-success\", \"mb-4\"], [1, \"alert\", \"alert-danger\", \"mb-4\"], [3, \"value\"], [\"for\", \"level\", 1, \"form-label\"], [\"id\", \"level\", \"formControlName\", \"level\", 1, \"form-input\"], [1, \"text-danger\", \"mt-1\"]],\n      template: function ActivitySubmitComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h1\", 4);\n          i0.ɵɵtext(6, \"Submit Activity\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"a\", 5);\n          i0.ɵɵtext(8, \"Back to Dashboard\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7);\n          i0.ɵɵtemplate(11, ActivitySubmitComponent_div_11_Template, 2, 1, \"div\", 8)(12, ActivitySubmitComponent_div_12_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementStart(13, \"form\", 10);\n          i0.ɵɵlistener(\"ngSubmit\", function ActivitySubmitComponent_Template_form_ngSubmit_13_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(14, \"div\", 11)(15, \"h5\", 12);\n          i0.ɵɵtext(16, \"Upload Certificate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 13)(18, \"div\", 14)(19, \"input\", 15);\n          i0.ɵɵlistener(\"change\", function ActivitySubmitComponent_Template_input_change_19_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"label\", 16)(21, \"div\", 17);\n          i0.ɵɵelement(22, \"i\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 19);\n          i0.ɵɵtemplate(24, ActivitySubmitComponent_span_24_Template, 2, 0, \"span\", 20)(25, ActivitySubmitComponent_span_25_Template, 2, 1, \"span\", 20);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(26, \"small\", 21);\n          i0.ɵɵtext(27, \"Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 22)(29, \"div\", 23)(30, \"label\", 24);\n          i0.ɵɵtext(31, \"Certificate Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(32, \"input\", 25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 23)(34, \"label\", 26);\n          i0.ɵɵtext(35, \"Event Organizer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(36, \"input\", 27);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"div\", 22)(38, \"div\", 23)(39, \"label\", 28);\n          i0.ɵɵtext(40, \"Activity Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"select\", 29)(42, \"option\", 30);\n          i0.ɵɵtext(43, \"Select Activity Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(44, ActivitySubmitComponent_option_44_Template, 3, 4, \"option\", 31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(45, \"div\", 23)(46, \"label\", 32);\n          i0.ɵɵtext(47, \"Certificate Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(48, \"input\", 33);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(49, \"div\", 22);\n          i0.ɵɵtemplate(50, ActivitySubmitComponent_div_50_Template, 7, 1, \"div\", 34);\n          i0.ɵɵelementStart(51, \"div\", 23)(52, \"label\", 35);\n          i0.ɵɵtext(53, \"Semester\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(54, \"select\", 36)(55, \"option\", 30);\n          i0.ɵɵtext(56, \"Select Semester\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(57, ActivitySubmitComponent_option_57_Template, 2, 2, \"option\", 31);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(58, ActivitySubmitComponent_div_58_Template, 2, 1, \"div\", 37);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(59, \"div\", 22)(60, \"div\", 23)(61, \"label\", 38);\n          i0.ɵɵtext(62, \"Points\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(63, \"div\", 39);\n          i0.ɵɵtext(64);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(65, \"div\", 12)(66, \"label\", 40);\n          i0.ɵɵtext(67, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(68, \"textarea\", 41);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"div\", 42)(70, \"button\", 43);\n          i0.ɵɵtemplate(71, ActivitySubmitComponent_span_71_Template, 2, 0, \"span\", 20)(72, ActivitySubmitComponent_span_72_Template, 2, 0, \"span\", 20);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_9_0;\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.activityForm);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"ngForOf\", ctx.activityTypes);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_6_0.value) === \"sports\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ((tmp_7_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_7_0.touched)));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.semesters);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_9_0.touched));\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.calculatedPoints, \" points \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", ctx.activityForm.invalid || ctx.isSubmitting || !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n        }\n      },\n      dependencies: [CommonModule, i6.NgClass, i6.NgForOf, i6.NgIf, i6.TitleCasePipe, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterLink, NavbarComponent],\n      styles: [\".shadow-sm[_ngcontent-%COMP%] {\\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\\n}\\n\\n.form-input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.75rem 1rem;\\n  border: 1px solid #ced4da;\\n  border-radius: 0.375rem;\\n  font-size: 1rem;\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n.form-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #80bdff;\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n}\\n.form-input.is-invalid[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n}\\n\\n.certificate-upload-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 1rem;\\n}\\n\\n.certificate-upload-box[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n  min-height: 150px;\\n  border: 2px dashed #ced4da;\\n  border-radius: 0.5rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  overflow: hidden;\\n  transition: border-color 0.3s ease;\\n}\\n.certificate-upload-box[_ngcontent-%COMP%]:hover {\\n  border-color: #80bdff;\\n}\\n\\n.file-input[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0;\\n  cursor: pointer;\\n  z-index: 2;\\n}\\n\\n.file-label[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  padding: 2rem;\\n  cursor: pointer;\\n}\\n\\n.upload-icon[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  color: #6c757d;\\n  margin-bottom: 1rem;\\n}\\n\\n.upload-text[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #6c757d;\\n}\\n\\ntextarea.form-input[_ngcontent-%COMP%] {\\n  resize: vertical;\\n  min-height: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYWN0aXZpdGllcy9hY3Rpdml0eS1zdWJtaXQvYWN0aXZpdHktc3VibWl0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOERBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0Esd0VBQUE7QUFDRjtBQUNFO0VBQ0UsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0RBQUE7QUFDSjtBQUVFO0VBQ0UscUJBQUE7QUFBSjs7QUFJQTtFQUNFLGNBQUE7QUFERjs7QUFJQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSwwQkFBQTtFQUNBLHFCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtDQUFBO0FBREY7QUFHRTtFQUNFLHFCQUFBO0FBREo7O0FBS0E7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUFGRjs7QUFLQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0FBRkY7O0FBS0E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtBQUZGOztBQUtBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0FBRkY7O0FBS0E7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FBRkYiLCJzb3VyY2VzQ29udGVudCI6WyIuc2hhZG93LXNtIHtcclxuICBib3gtc2hhZG93OiAwIDAuMTI1cmVtIDAuMjVyZW0gcmdiYSgwLCAwLCAwLCAwLjA3NSkgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmZvcm0taW5wdXQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDAuMzc1cmVtO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XHJcbiAgXHJcbiAgJjpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjODBiZGZmO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoMCwgMTIzLCAyNTUsIDAuMjUpO1xyXG4gIH1cclxuICBcclxuICAmLmlzLWludmFsaWQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZGMzNTQ1O1xyXG4gIH1cclxufVxyXG5cclxuLnRleHQtZGFuZ2VyIHtcclxuICBjb2xvcjogI2RjMzU0NTtcclxufVxyXG5cclxuLmNlcnRpZmljYXRlLXVwbG9hZC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi5jZXJ0aWZpY2F0ZS11cGxvYWQtYm94IHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbWluLWhlaWdodDogMTUwcHg7XHJcbiAgYm9yZGVyOiAycHggZGFzaGVkICNjZWQ0ZGE7XHJcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjNzIGVhc2U7XHJcbiAgXHJcbiAgJjpob3ZlciB7XHJcbiAgICBib3JkZXItY29sb3I6ICM4MGJkZmY7XHJcbiAgfVxyXG59XHJcblxyXG4uZmlsZS1pbnB1dCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBvcGFjaXR5OiAwO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB6LWluZGV4OiAyO1xyXG59XHJcblxyXG4uZmlsZS1sYWJlbCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHBhZGRpbmc6IDJyZW07XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4udXBsb2FkLWljb24ge1xyXG4gIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gIGNvbG9yOiAjNmM3NTdkO1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi51cGxvYWQtdGV4dCB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGNvbG9yOiAjNmM3NTdkO1xyXG59XHJcblxyXG50ZXh0YXJlYS5mb3JtLWlucHV0IHtcclxuICByZXNpemU6IHZlcnRpY2FsO1xyXG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xyXG59ICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","Validators","ReactiveFormsModule","RouterLink","NavbarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","successMessage","errorMessage","ɵɵtextInterpolate","selectedFile","name","ɵɵproperty","type_r2","ɵɵpipeBind1","level_r3","ɵɵtemplate","ActivitySubmitComponent_div_50_option_6_Template","levels","sem_r4","ActivitySubmitComponent_div_58_small_1_Template","tmp_1_0","activityForm","get","errors","ActivitySubmitComponent","constructor","fb","authService","activityService","router","http","currentUser","isLoading","isSubmitting","calculatedPoints","activityTypes","semesters","sportsPointsMap","group","title","required","activityType","description","eventOrganizer","date","level","points","semester","min","max","valueChanges","subscribe","calculatePoints","updateLevelValidation","ngOnInit","getCurrentUser","value","levelControl","setValidators","clearValidators","updateValueAndValidity","Number","patchValue","onFileSelected","event","file","target","files","size","allowedTypes","includes","type","onSubmit","invalid","navigate","formData","FormData","append","formValues","activityData","status","studentData","studentId","_id","studentName","studentDepartment","department","studentClass","class","studentSemester","studentRollNumber","rollNumber","JSON","stringify","console","log","activity","student","submitActivity","next","response","success","reset","fileInput","document","getElementById","setTimeout","message","error","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","ActivityService","i4","Router","i5","HttpClient","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ActivitySubmitComponent_Template","rf","ctx","ɵɵelement","ActivitySubmitComponent_div_11_Template","ActivitySubmitComponent_div_12_Template","ɵɵlistener","ActivitySubmitComponent_Template_form_ngSubmit_13_listener","ActivitySubmitComponent_Template_input_change_19_listener","$event","ActivitySubmitComponent_span_24_Template","ActivitySubmitComponent_span_25_Template","ActivitySubmitComponent_option_44_Template","ActivitySubmitComponent_div_50_Template","ActivitySubmitComponent_option_57_Template","ActivitySubmitComponent_div_58_Template","ActivitySubmitComponent_span_71_Template","ActivitySubmitComponent_span_72_Template","tmp_6_0","ɵɵpureFunction1","_c0","tmp_7_0","touched","tmp_9_0","i6","NgClass","NgForOf","NgIf","TitleCasePipe","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\activities\\activity-submit\\activity-submit.component.ts","C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\activities\\activity-submit\\activity-submit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\r\nimport { ActivityService } from '../../../core/services/activity.service';\r\nimport { AuthService } from '../../../core/services/auth.service';\r\nimport { User } from '../../../core/models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-activity-submit',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, RouterLink, NavbarComponent],\r\n  templateUrl: './activity-submit.component.html',\r\n  styleUrls: ['./activity-submit.component.scss']\r\n})\r\nexport class ActivitySubmitComponent implements OnInit {\r\n  activityForm: FormGroup;\r\n  currentUser: User | null = null;\r\n  isLoading = false;\r\n  isSubmitting = false;\r\n  errorMessage = '';\r\n  successMessage = '';\r\n  selectedFile: File | null = null;\r\n  calculatedPoints = 0;\r\n  \r\n  activityTypes = ['sports', 'mooc', 'workshops', 'internships'];\r\n  levels = [1, 2, 3, 4, 5];\r\n  semesters = [1, 2, 3, 4, 5, 6, 7, 8];\r\n\r\n  private sportsPointsMap: Record<number, number> = {\r\n    1: 8,\r\n    2: 15,\r\n    3: 25,\r\n    4: 40,\r\n    5: 50\r\n  };\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private activityService: ActivityService,\r\n    private router: Router,\r\n    private http: HttpClient\r\n  ) {\r\n    this.activityForm = this.fb.group({\r\n      title: ['', Validators.required],\r\n      activityType: ['', Validators.required],\r\n      description: ['', Validators.required],\r\n      eventOrganizer: ['', Validators.required],\r\n      date: ['', Validators.required],\r\n      level: [''],\r\n      points: [0, Validators.required],\r\n      semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\r\n    });\r\n\r\n    // Calculate points when activity type or level changes\r\n    this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\r\n      this.calculatePoints();\r\n      this.updateLevelValidation();\r\n    });\r\n\r\n    this.activityForm.get('level')?.valueChanges.subscribe(() => {\r\n      this.calculatePoints();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.authService.getCurrentUser();\r\n  }\r\n\r\n  updateLevelValidation(): void {\r\n    const activityType = this.activityForm.get('activityType')?.value;\r\n    const levelControl = this.activityForm.get('level');\r\n\r\n    if (activityType === 'sports') {\r\n      levelControl?.setValidators([Validators.required]);\r\n    } else {\r\n      levelControl?.clearValidators();\r\n    }\r\n    levelControl?.updateValueAndValidity();\r\n  }\r\n\r\n  calculatePoints(): void {\r\n    const activityType = this.activityForm.get('activityType')?.value;\r\n    const level = Number(this.activityForm.get('level')?.value);\r\n\r\n    if (!activityType) {\r\n      this.calculatedPoints = 0;\r\n      return;\r\n    }\r\n\r\n    switch (activityType) {\r\n      case 'sports':\r\n        this.calculatedPoints = this.sportsPointsMap[level] || 0;\r\n        break;\r\n      case 'mooc':\r\n        this.calculatedPoints = 50;\r\n        break;\r\n      case 'workshops':\r\n        this.calculatedPoints = 6;\r\n        break;\r\n      case 'internships':\r\n        this.calculatedPoints = 20;\r\n        break;\r\n      default:\r\n        this.calculatedPoints = 0;\r\n    }\r\n    \r\n    this.activityForm.patchValue({ points: this.calculatedPoints });\r\n  }\r\n\r\n  onFileSelected(event: any): void {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Check file size (5MB limit)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        this.errorMessage = 'File size exceeds 5MB limit';\r\n        event.target.value = '';\r\n        this.selectedFile = null;\r\n        return;\r\n      }\r\n\r\n      // Check file type\r\n      const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\r\n        event.target.value = '';\r\n        this.selectedFile = null;\r\n        return;\r\n      }\r\n\r\n      this.selectedFile = file;\r\n      this.errorMessage = '';\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.activityForm.invalid || !this.selectedFile) {\r\n      this.errorMessage = 'Please fill in all required fields and upload a certificate.';\r\n      return;\r\n    }\r\n\r\n    if (!this.currentUser) {\r\n      this.errorMessage = 'Please login to submit an activity.';\r\n      this.router.navigate(['/auth/login']);\r\n      return;\r\n    }\r\n\r\n    this.isSubmitting = true;\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    const formData = new FormData();\r\n    \r\n    // Add the file with the correct field name\r\n    formData.append('certificateFile', this.selectedFile);\r\n    \r\n    // Get form values\r\n    const formValues = this.activityForm.value;\r\n\r\n    // Create the activity data object\r\n    interface ActivitySubmitData {\r\n      title: string;\r\n      activityType: string;\r\n      description: string;\r\n      eventOrganizer: string;\r\n      date: string;\r\n      semester: number;\r\n      points: number;\r\n      status: string;\r\n      level?: number;\r\n    }\r\n\r\n    const activityData: ActivitySubmitData = {\r\n      title: formValues.title,\r\n      activityType: formValues.activityType,\r\n      description: formValues.description,\r\n      eventOrganizer: formValues.eventOrganizer,\r\n      date: formValues.date,\r\n      semester: Number(formValues.semester), // Ensure semester is a number\r\n      points: Number(this.calculatedPoints), // Ensure points is a number\r\n      status: 'pending'\r\n    };\r\n\r\n    // Add level only for sports activities\r\n    if (formValues.activityType === 'sports') {\r\n      activityData.level = Number(formValues.level); // Ensure level is a number\r\n    }\r\n\r\n    // Add student information\r\n    const studentData = {\r\n      studentId: this.currentUser._id,\r\n      studentName: this.currentUser.name,\r\n      studentDepartment: this.currentUser.department,\r\n      studentClass: this.currentUser.class,\r\n      studentSemester: Number(this.currentUser.semester), // Ensure semester is a number\r\n      studentRollNumber: this.currentUser.rollNumber\r\n    };\r\n\r\n    // Add all data to formData\r\n    formData.append('activityData', JSON.stringify(activityData));\r\n    formData.append('studentData', JSON.stringify(studentData));\r\n\r\n    console.log('Submitting activity with data:', {\r\n      activity: activityData,\r\n      student: studentData\r\n    });\r\n\r\n    this.activityService.submitActivity(formData).subscribe({\r\n      next: (response) => {\r\n        console.log('Submission response:', response);\r\n        if (response && response.success) {\r\n          this.successMessage = 'Activity submitted successfully! Your request has been sent to the teacher for review.';\r\n          \r\n          // Reset form and file\r\n          this.activityForm.reset();\r\n          this.selectedFile = null;\r\n          const fileInput = document.getElementById('certificateFile') as HTMLInputElement;\r\n          if (fileInput) {\r\n            fileInput.value = '';\r\n          }\r\n          \r\n          // Navigate back to dashboard after short delay\r\n          setTimeout(() => {\r\n            this.router.navigate(['/dashboard/student']);\r\n          }, 2000);\r\n        } else {\r\n          this.isSubmitting = false;\r\n          this.errorMessage = (response && response.message) || 'Failed to submit activity. Please try again.';\r\n        }\r\n      },\r\n      error: (error) => {\r\n        this.isSubmitting = false;\r\n        console.error('Submit error:', error);\r\n        if (error.status === 401) {\r\n          this.errorMessage = 'Your session has expired. Please login again.';\r\n          setTimeout(() => {\r\n            this.router.navigate(['/auth/login']);\r\n          }, 2000);\r\n        } else {\r\n          this.errorMessage = error.message || 'Server error. Please try again.';\r\n        }\r\n      }\r\n    });\r\n  }\r\n} ","<app-navbar></app-navbar>\r\n\r\n<div class=\"container py-4\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-12\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <h1 class=\"mb-0\">Submit Activity</h1>\r\n        <a routerLink=\"/dashboard/student\" class=\"btn btn-outline-primary\">Back to Dashboard</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"card border-0 shadow-sm\">\r\n    <div class=\"card-body p-4\">\r\n      <!-- Success Message -->\r\n      <div *ngIf=\"successMessage\" class=\"alert alert-success mb-4\">\r\n        {{ successMessage }}\r\n      </div>\r\n      \r\n      <!-- Error Message -->\r\n      <div *ngIf=\"errorMessage\" class=\"alert alert-danger mb-4\">\r\n        {{ errorMessage }}\r\n      </div>\r\n      \r\n      <form [formGroup]=\"activityForm\" (ngSubmit)=\"onSubmit()\">\r\n        <!-- Certificate Upload -->\r\n        <div class=\"mb-4\">\r\n          <h5 class=\"mb-3\">Upload Certificate</h5>\r\n          <div class=\"certificate-upload-container\">\r\n            <div class=\"certificate-upload-box\">\r\n              <input \r\n                type=\"file\" \r\n                id=\"certificateFile\" \r\n                class=\"file-input\" \r\n                accept=\".pdf,.jpg,.jpeg,.png\" \r\n                (change)=\"onFileSelected($event)\"\r\n              >\r\n              <label for=\"certificateFile\" class=\"file-label\">\r\n                <div class=\"upload-icon\">\r\n                  <i class=\"bi bi-cloud-arrow-up\"></i>\r\n                </div>\r\n                <div class=\"upload-text\">\r\n                  <span *ngIf=\"!selectedFile\">Drag & drop your certificate here or click to browse</span>\r\n                  <span *ngIf=\"selectedFile\">{{ selectedFile.name }}</span>\r\n                </div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <small class=\"text-muted\">Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)</small>\r\n        </div>\r\n        \r\n        <!-- Certificate Details -->\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"title\" class=\"form-label\">Certificate Title</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"title\" \r\n              formControlName=\"title\" \r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n          \r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"eventOrganizer\" class=\"form-label\">Event Organizer</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"eventOrganizer\" \r\n              formControlName=\"eventOrganizer\" \r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"activityType\" class=\"form-label\">Activity Type</label>\r\n            <select \r\n              id=\"activityType\" \r\n              formControlName=\"activityType\" \r\n              class=\"form-input\"\r\n            >\r\n              <option value=\"\">Select Activity Type</option>\r\n              <option *ngFor=\"let type of activityTypes\" [value]=\"type\">{{ type | titlecase }}</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"date\" class=\"form-label\">Certificate Date</label>\r\n            <input \r\n              type=\"date\" \r\n              id=\"date\" \r\n              formControlName=\"date\" \r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\" *ngIf=\"activityForm.get('activityType')?.value === 'sports'\">\r\n            <label for=\"level\" class=\"form-label\">Activity Level</label>\r\n            <select \r\n              id=\"level\" \r\n              formControlName=\"level\" \r\n              class=\"form-input\"\r\n            >\r\n              <option value=\"\">Select Level</option>\r\n              <option *ngFor=\"let level of levels\" [value]=\"level\">Level {{ level }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"semester\" class=\"form-label\">Semester</label>\r\n            <select \r\n              id=\"semester\" \r\n              formControlName=\"semester\" \r\n              class=\"form-input\"\r\n              [ngClass]=\"{'is-invalid': activityForm.get('semester')?.invalid && activityForm.get('semester')?.touched}\"\r\n            >\r\n              <option value=\"\">Select Semester</option>\r\n              <option *ngFor=\"let sem of semesters\" [value]=\"sem\">Semester {{ sem }}</option>\r\n            </select>\r\n            <div *ngIf=\"activityForm.get('semester')?.invalid && activityForm.get('semester')?.touched\" class=\"text-danger mt-1\">\r\n              <small *ngIf=\"activityForm.get('semester')?.errors?.['required']\">Semester is required</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label class=\"form-label\">Points</label>\r\n            <div class=\"form-control bg-light\">\r\n              {{ calculatedPoints }} points\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"mb-3\">\r\n          <label for=\"description\" class=\"form-label\">Description</label>\r\n          <textarea \r\n            id=\"description\" \r\n            formControlName=\"description\" \r\n            class=\"form-input\" \r\n            rows=\"4\"\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <div class=\"d-grid gap-2 mt-4\">\r\n          <button \r\n            type=\"submit\" \r\n            class=\"btn btn-primary\" \r\n            [disabled]=\"activityForm.invalid || isSubmitting || !selectedFile\"\r\n          >\r\n            <span *ngIf=\"isSubmitting\">Submitting...</span>\r\n            <span *ngIf=\"!isSubmitting\">Submit Activity</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}