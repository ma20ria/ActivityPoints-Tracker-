{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/auth.service\";\nimport * as i3 from \"../../../core/services/activity.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/common\";\nfunction ActivitySubmitComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Drag & drop your certificate here or click to browse\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.selectedFile.name);\n  }\n}\nfunction ActivitySubmitComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \" Certificate is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"title\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_option_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, type_r2), \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"activityType\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"eventOrganizer\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"date\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sem_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", sem_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Semester \", sem_r3, \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"semester\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_63_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const level_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", level_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Level \", level_r4, \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_63_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"level\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"label\", 51);\n    i0.ɵɵtext(2, \"Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 52)(4, \"option\", 30);\n    i0.ɵɵtext(5, \"Select Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ActivitySubmitComponent_div_63_option_6_Template, 2, 2, \"option\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ActivitySubmitComponent_div_63_div_7_Template, 2, 1, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_3_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", ((tmp_1_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_1_0.touched));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.levels);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_3_0.touched));\n  }\n}\nfunction ActivitySubmitComponent_div_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"description\"), \" \");\n  }\n}\nfunction ActivitySubmitComponent_span_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 53);\n  }\n}\nfunction ActivitySubmitComponent_span_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submitting...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Activity\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ActivitySubmitComponent {\n  constructor(fb, authService, activityService, router, http) {\n    this.fb = fb;\n    this.authService = authService;\n    this.activityService = activityService;\n    this.router = router;\n    this.http = http;\n    this.currentUser = null;\n    this.isLoading = false;\n    this.isSubmitting = false;\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.selectedFile = null;\n    this.calculatedPoints = 0;\n    this.maxFileSize = 5 * 1024 * 1024; // 5MB\n    this.allowedFileTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n    this.activityTypes = ['sports', 'mooc', 'workshops', 'internships'];\n    this.levels = [1, 2, 3, 4, 5];\n    this.semesters = [1, 2, 3, 4, 5, 6, 7, 8];\n    this.sportsPointsMap = {\n      1: 8,\n      2: 15,\n      3: 25,\n      4: 40,\n      5: 50\n    };\n    this.initializeForm();\n  }\n  initializeForm() {\n    this.activityForm = this.fb.group({\n      title: ['', [Validators.required, Validators.minLength(3)]],\n      activityType: ['', Validators.required],\n      description: ['', [Validators.required, Validators.minLength(10)]],\n      eventOrganizer: ['', [Validators.required, Validators.minLength(3)]],\n      date: ['', Validators.required],\n      level: [null],\n      points: [0],\n      semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\n    });\n    // Calculate points when activity type or level changes\n    this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n      this.updateLevelValidation();\n    });\n    this.activityForm.get('level')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n    });\n    // Mark form as touched when any field changes\n    Object.keys(this.activityForm.controls).forEach(key => {\n      this.activityForm.get(key)?.valueChanges.subscribe(() => {\n        this.activityForm.get(key)?.markAsTouched();\n      });\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n  }\n  updateLevelValidation() {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const levelControl = this.activityForm.get('level');\n    if (activityType === 'sports') {\n      levelControl?.setValidators([Validators.required]);\n    } else {\n      levelControl?.clearValidators();\n      levelControl?.setValue(null);\n    }\n    levelControl?.updateValueAndValidity();\n  }\n  calculatePoints() {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const level = Number(this.activityForm.get('level')?.value);\n    if (!activityType) {\n      this.calculatedPoints = 0;\n      return;\n    }\n    switch (activityType) {\n      case 'sports':\n        this.calculatedPoints = this.sportsPointsMap[level] || 0;\n        break;\n      case 'mooc':\n        this.calculatedPoints = 50;\n        break;\n      case 'workshops':\n        this.calculatedPoints = 6;\n        break;\n      case 'internships':\n        this.calculatedPoints = 20;\n        break;\n      default:\n        this.calculatedPoints = 0;\n    }\n    this.activityForm.patchValue({\n      points: this.calculatedPoints\n    });\n  }\n  onFileSelected(event) {\n    const input = event.target;\n    const file = input.files?.[0];\n    if (file) {\n      // Check file size\n      if (file.size > this.maxFileSize) {\n        this.errorMessage = `File size exceeds ${this.maxFileSize / (1024 * 1024)}MB limit`;\n        input.value = '';\n        this.selectedFile = null;\n        return;\n      }\n      // Check file type\n      if (!this.allowedFileTypes.includes(file.type)) {\n        this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\n        input.value = '';\n        this.selectedFile = null;\n        return;\n      }\n      this.selectedFile = file;\n      this.errorMessage = '';\n    }\n  }\n  onSubmit() {\n    // Mark all fields as touched to trigger validation messages\n    Object.keys(this.activityForm.controls).forEach(key => {\n      this.activityForm.get(key)?.markAsTouched();\n    });\n    if (!this.currentUser) {\n      this.errorMessage = 'Please login to submit an activity.';\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n    if (!this.selectedFile) {\n      this.errorMessage = 'Please upload a certificate.';\n      return;\n    }\n    if (this.activityForm.invalid) {\n      this.errorMessage = 'Please fill in all required fields correctly.';\n      return;\n    }\n    this.isSubmitting = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n    try {\n      const formData = new FormData();\n      const formValues = this.activityForm.value;\n      // Add the certificate file\n      formData.append('certificateFile', this.selectedFile);\n      // Add basic activity details\n      formData.append('title', formValues.title);\n      formData.append('activityType', formValues.activityType);\n      formData.append('description', formValues.description);\n      formData.append('eventOrganizer', formValues.eventOrganizer);\n      formData.append('date', formValues.date);\n      formData.append('semester', formValues.semester.toString());\n      formData.append('points', this.calculatedPoints.toString());\n      // Add level for sports activities\n      if (formValues.activityType === 'sports' && formValues.level) {\n        formData.append('level', formValues.level.toString());\n      }\n      // Add student details\n      formData.append('studentId', this.currentUser._id);\n      formData.append('studentName', this.currentUser.name);\n      formData.append('studentDepartment', this.currentUser.department || '');\n      formData.append('studentClass', this.currentUser.class || '');\n      formData.append('studentSemester', (this.currentUser.semester || '').toString());\n      formData.append('studentRollNumber', this.currentUser.rollNumber || '');\n      this.activityService.submitActivity(formData).subscribe({\n        next: response => {\n          if (response.success) {\n            this.successMessage = 'Activity submitted successfully!';\n            this.activityForm.reset();\n            this.selectedFile = null;\n            const fileInput = document.getElementById('certificateFile');\n            if (fileInput) {\n              fileInput.value = '';\n            }\n            setTimeout(() => {\n              this.router.navigate(['/dashboard/student']);\n            }, 2000);\n          } else {\n            this.errorMessage = response.message || 'Failed to submit activity.';\n          }\n          this.isSubmitting = false;\n        },\n        error: error => {\n          this.isSubmitting = false;\n          if (error.status === 401) {\n            this.errorMessage = 'Your session has expired. Please login again.';\n            this.router.navigate(['/auth/login']);\n            return;\n          }\n          if (error.status === 413) {\n            this.errorMessage = 'The file is too large. Please upload a file smaller than 5MB.';\n            return;\n          }\n          if (error.status === 400) {\n            this.errorMessage = error.error?.message || 'Please check all your inputs and try again.';\n            return;\n          }\n          this.errorMessage = error.error?.message || 'Failed to submit activity. Please try again.';\n        }\n      });\n    } catch (error) {\n      console.error('Error preparing form data:', error);\n      this.isSubmitting = false;\n      this.errorMessage = 'An error occurred while preparing your submission.';\n    }\n  }\n  getErrorMessage(controlName) {\n    const control = this.activityForm.get(controlName);\n    if (control?.hasError('required')) {\n      return `${controlName.charAt(0).toUpperCase() + controlName.slice(1)} is required`;\n    }\n    if (control?.hasError('minlength')) {\n      const minLength = control.errors?.['minlength'].requiredLength;\n      return `${controlName.charAt(0).toUpperCase() + controlName.slice(1)} must be at least ${minLength} characters`;\n    }\n    if (control?.hasError('min') || control?.hasError('max')) {\n      return `${controlName.charAt(0).toUpperCase() + controlName.slice(1)} must be between 1 and 8`;\n    }\n    return '';\n  }\n  static {\n    this.ɵfac = function ActivitySubmitComponent_Factory(t) {\n      return new (t || ActivitySubmitComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivityService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ActivitySubmitComponent,\n      selectors: [[\"app-activity-submit\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 80,\n      vars: 34,\n      consts: [[1, \"container\", \"py-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"routerLink\", \"/dashboard/student\", 1, \"btn\", \"btn-outline-primary\"], [1, \"card\", \"border-0\", \"shadow-sm\"], [1, \"card-body\", \"p-4\"], [\"class\", \"alert alert-success mb-4\", 4, \"ngIf\"], [\"class\", \"alert alert-danger mb-4\", 4, \"ngIf\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"mb-4\"], [1, \"mb-3\"], [1, \"certificate-upload-container\"], [1, \"certificate-upload-box\"], [\"type\", \"file\", \"id\", \"certificateFile\", \"accept\", \".pdf,.jpg,.jpeg,.png\", 1, \"file-input\", 3, \"change\"], [\"for\", \"certificateFile\", 1, \"file-label\"], [1, \"upload-icon\"], [1, \"bi\", \"bi-cloud-arrow-up\"], [1, \"upload-text\"], [4, \"ngIf\"], [1, \"text-muted\"], [\"class\", \"text-danger small mt-1\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", 1, \"form-control\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"activityType\", 1, \"form-label\"], [\"id\", \"activityType\", \"formControlName\", \"activityType\", 1, \"form-select\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"eventOrganizer\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"eventOrganizer\", \"formControlName\", \"eventOrganizer\", 1, \"form-control\"], [\"for\", \"date\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"date\", \"formControlName\", \"date\", 1, \"form-control\"], [\"for\", \"semester\", 1, \"form-label\"], [\"id\", \"semester\", \"formControlName\", \"semester\", 1, \"form-select\"], [\"class\", \"col-md-6 mb-3\", 4, \"ngIf\"], [1, \"form-label\"], [1, \"form-control\", \"bg-light\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"4\", 1, \"form-control\"], [1, \"d-grid\", \"gap-2\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-2\", 4, \"ngIf\"], [1, \"alert\", \"alert-success\", \"mb-4\"], [1, \"alert\", \"alert-danger\", \"mb-4\"], [1, \"text-danger\", \"small\", \"mt-1\"], [1, \"invalid-feedback\"], [3, \"value\"], [\"for\", \"level\", 1, \"form-label\"], [\"id\", \"level\", \"formControlName\", \"level\", 1, \"form-select\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"]],\n      template: function ActivitySubmitComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h1\", 4);\n          i0.ɵɵtext(6, \"Submit Activity\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"a\", 5);\n          i0.ɵɵtext(8, \"Back to Dashboard\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7);\n          i0.ɵɵtemplate(11, ActivitySubmitComponent_div_11_Template, 2, 1, \"div\", 8)(12, ActivitySubmitComponent_div_12_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementStart(13, \"form\", 10);\n          i0.ɵɵlistener(\"ngSubmit\", function ActivitySubmitComponent_Template_form_ngSubmit_13_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(14, \"div\", 11)(15, \"h5\", 12);\n          i0.ɵɵtext(16, \"Upload Certificate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 13)(18, \"div\", 14)(19, \"input\", 15);\n          i0.ɵɵlistener(\"change\", function ActivitySubmitComponent_Template_input_change_19_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"label\", 16)(21, \"div\", 17);\n          i0.ɵɵelement(22, \"i\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 19);\n          i0.ɵɵtemplate(24, ActivitySubmitComponent_span_24_Template, 2, 0, \"span\", 20)(25, ActivitySubmitComponent_span_25_Template, 2, 1, \"span\", 20);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(26, \"small\", 21);\n          i0.ɵɵtext(27, \"Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, ActivitySubmitComponent_div_28_Template, 2, 0, \"div\", 22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 23)(30, \"div\", 24)(31, \"label\", 25);\n          i0.ɵɵtext(32, \"Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(33, \"input\", 26);\n          i0.ɵɵtemplate(34, ActivitySubmitComponent_div_34_Template, 2, 1, \"div\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"div\", 24)(36, \"label\", 28);\n          i0.ɵɵtext(37, \"Activity Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"select\", 29)(39, \"option\", 30);\n          i0.ɵɵtext(40, \"Select Activity Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(41, ActivitySubmitComponent_option_41_Template, 3, 4, \"option\", 31);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(42, ActivitySubmitComponent_div_42_Template, 2, 1, \"div\", 27);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(43, \"div\", 23)(44, \"div\", 24)(45, \"label\", 32);\n          i0.ɵɵtext(46, \"Event Organizer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(47, \"input\", 33);\n          i0.ɵɵtemplate(48, ActivitySubmitComponent_div_48_Template, 2, 1, \"div\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"div\", 24)(50, \"label\", 34);\n          i0.ɵɵtext(51, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(52, \"input\", 35);\n          i0.ɵɵtemplate(53, ActivitySubmitComponent_div_53_Template, 2, 1, \"div\", 27);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(54, \"div\", 23)(55, \"div\", 24)(56, \"label\", 36);\n          i0.ɵɵtext(57, \"Semester\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(58, \"select\", 37)(59, \"option\", 30);\n          i0.ɵɵtext(60, \"Select Semester\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(61, ActivitySubmitComponent_option_61_Template, 2, 2, \"option\", 31);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(62, ActivitySubmitComponent_div_62_Template, 2, 1, \"div\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(63, ActivitySubmitComponent_div_63_Template, 8, 4, \"div\", 38);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"div\", 23)(65, \"div\", 24)(66, \"label\", 39);\n          i0.ɵɵtext(67, \"Points\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(68, \"div\", 40);\n          i0.ɵɵtext(69);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(70, \"div\", 12)(71, \"label\", 41);\n          i0.ɵɵtext(72, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(73, \"textarea\", 42);\n          i0.ɵɵtemplate(74, ActivitySubmitComponent_div_74_Template, 2, 1, \"div\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(75, \"div\", 43)(76, \"button\", 44);\n          i0.ɵɵtemplate(77, ActivitySubmitComponent_span_77_Template, 1, 0, \"span\", 45)(78, ActivitySubmitComponent_span_78_Template, 2, 0, \"span\", 20)(79, ActivitySubmitComponent_span_79_Template, 2, 0, \"span\", 20);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_7_0;\n          let tmp_8_0;\n          let tmp_9_0;\n          let tmp_11_0;\n          let tmp_12_0;\n          let tmp_13_0;\n          let tmp_14_0;\n          let tmp_15_0;\n          let tmp_16_0;\n          let tmp_18_0;\n          let tmp_19_0;\n          let tmp_21_0;\n          let tmp_22_0;\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.activityForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"has-error\", !ctx.selectedFile && ctx.activityForm.touched);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile && ctx.activityForm.touched);\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_7_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_7_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_8_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_9_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_9_0.touched));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.activityTypes);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_11_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_12_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_12_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_13_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_13_0.invalid) && ((tmp_13_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_13_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_14_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_14_0.invalid) && ((tmp_14_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_14_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_15_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_15_0.invalid) && ((tmp_15_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_15_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_16_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_16_0.invalid) && ((tmp_16_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_16_0.touched));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.semesters);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_18_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_18_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_19_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_19_0.value) === \"sports\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.calculatedPoints, \" points \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_21_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_21_0.invalid) && ((tmp_21_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_21_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_22_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_22_0.invalid) && ((tmp_22_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_22_0.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.activityForm.invalid || ctx.isSubmitting || !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n        }\n      },\n      dependencies: [CommonModule, i6.NgForOf, i6.NgIf, i6.TitleCasePipe, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterLink, NavbarComponent],\n      styles: [\".shadow-sm[_ngcontent-%COMP%] {\\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\\n}\\n\\n.form-input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.75rem 1rem;\\n  border: 1px solid #ced4da;\\n  border-radius: 0.375rem;\\n  font-size: 1rem;\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n.form-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #80bdff;\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n}\\n.form-input.is-invalid[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n}\\n\\n.certificate-upload-container[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n}\\n\\n.certificate-upload-box[_ngcontent-%COMP%] {\\n  border: 2px dashed #dee2e6;\\n  border-radius: 8px;\\n  padding: 2rem;\\n  text-align: center;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  background-color: #f8f9fa;\\n  position: relative;\\n}\\n.certificate-upload-box[_ngcontent-%COMP%]:hover {\\n  border-color: #0d6efd;\\n  background-color: #f1f3f5;\\n}\\n.certificate-upload-box.has-error[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n.certificate-upload-box.has-error[_ngcontent-%COMP%]:hover {\\n  border-color: #dc3545;\\n}\\n\\n.file-input[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  opacity: 0;\\n  cursor: pointer;\\n}\\n\\n.file-label[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 1rem;\\n  cursor: pointer;\\n}\\n\\n.upload-icon[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  color: #6c757d;\\n}\\n\\n.upload-text[_ngcontent-%COMP%] {\\n  color: #6c757d;\\n  font-size: 1rem;\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus {\\n  border-color: #0d6efd;\\n  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\\n}\\n.form-control.is-invalid[_ngcontent-%COMP%], .form-select.is-invalid[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n.form-control.is-invalid[_ngcontent-%COMP%]:focus, .form-select.is-invalid[_ngcontent-%COMP%]:focus {\\n  border-color: #dc3545;\\n  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);\\n}\\n\\n.invalid-feedback[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  margin-top: 0.25rem;\\n  font-size: 0.875em;\\n  color: #dc3545;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.65;\\n  cursor: not-allowed;\\n}\\n.btn-primary[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%] {\\n  width: 1rem;\\n  height: 1rem;\\n}\\n\\n@media (max-width: 768px) {\\n  .certificate-upload-box[_ngcontent-%COMP%] {\\n    padding: 1.5rem;\\n  }\\n  .upload-icon[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n  }\\n  .upload-text[_ngcontent-%COMP%] {\\n    font-size: 0.875rem;\\n  }\\n}\\ntextarea.form-input[_ngcontent-%COMP%] {\\n  resize: vertical;\\n  min-height: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYWN0aXZpdGllcy9hY3Rpdml0eS1zdWJtaXQvYWN0aXZpdHktc3VibWl0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOERBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0Esd0VBQUE7QUFDRjtBQUNFO0VBQ0UsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0RBQUE7QUFDSjtBQUVFO0VBQ0UscUJBQUE7QUFBSjs7QUFJQTtFQUNFLGNBQUE7QUFERjs7QUFJQTtFQUNFLG1CQUFBO0FBREY7O0FBSUE7RUFDRSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtBQURGO0FBR0U7RUFDRSxxQkFBQTtFQUNBLHlCQUFBO0FBREo7QUFJRTtFQUNFLHFCQUFBO0FBRko7QUFJSTtFQUNFLHFCQUFBO0FBRk47O0FBT0E7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtBQUpGOztBQU9BO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQUpGOztBQU9BO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUFKRjs7QUFPQTtFQUNFLGNBQUE7RUFDQSxlQUFBO0FBSkY7O0FBUUU7RUFDRSxxQkFBQTtFQUNBLGtEQUFBO0FBTEo7QUFRRTtFQUNFLHFCQUFBO0FBTko7QUFRSTtFQUNFLHFCQUFBO0VBQ0EsaURBQUE7QUFOTjs7QUFXQTtFQUNFLGNBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFSRjs7QUFZRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQVRKO0FBWUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQVZKOztBQWVBO0VBQ0U7SUFDRSxlQUFBO0VBWkY7RUFlQTtJQUNFLGlCQUFBO0VBYkY7RUFnQkE7SUFDRSxtQkFBQTtFQWRGO0FBQ0Y7QUFpQkE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FBZkYiLCJzb3VyY2VzQ29udGVudCI6WyIuc2hhZG93LXNtIHtcclxuICBib3gtc2hhZG93OiAwIDAuMTI1cmVtIDAuMjVyZW0gcmdiYSgwLCAwLCAwLCAwLjA3NSkgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmZvcm0taW5wdXQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDAuMzc1cmVtO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XHJcbiAgXHJcbiAgJjpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjODBiZGZmO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoMCwgMTIzLCAyNTUsIDAuMjUpO1xyXG4gIH1cclxuICBcclxuICAmLmlzLWludmFsaWQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZGMzNTQ1O1xyXG4gIH1cclxufVxyXG5cclxuLnRleHQtZGFuZ2VyIHtcclxuICBjb2xvcjogI2RjMzU0NTtcclxufVxyXG5cclxuLmNlcnRpZmljYXRlLXVwbG9hZC1jb250YWluZXIge1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi5jZXJ0aWZpY2F0ZS11cGxvYWQtYm94IHtcclxuICBib3JkZXI6IDJweCBkYXNoZWQgI2RlZTJlNjtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgcGFkZGluZzogMnJlbTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgXHJcbiAgJjpob3ZlciB7XHJcbiAgICBib3JkZXItY29sb3I6ICMwZDZlZmQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmM2Y1O1xyXG4gIH1cclxuICBcclxuICAmLmhhcy1lcnJvciB7XHJcbiAgICBib3JkZXItY29sb3I6ICNkYzM1NDU7XHJcbiAgICBcclxuICAgICY6aG92ZXIge1xyXG4gICAgICBib3JkZXItY29sb3I6ICNkYzM1NDU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uZmlsZS1pbnB1dCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICBvcGFjaXR5OiAwO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmZpbGUtbGFiZWwge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMXJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi51cGxvYWQtaWNvbiB7XHJcbiAgZm9udC1zaXplOiAycmVtO1xyXG4gIGNvbG9yOiAjNmM3NTdkO1xyXG59XHJcblxyXG4udXBsb2FkLXRleHQge1xyXG4gIGNvbG9yOiAjNmM3NTdkO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxufVxyXG5cclxuLmZvcm0tY29udHJvbCwgLmZvcm0tc2VsZWN0IHtcclxuICAmOmZvY3VzIHtcclxuICAgIGJvcmRlci1jb2xvcjogIzBkNmVmZDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMjVyZW0gcmdiYSgxMywgMTEwLCAyNTMsIDAuMjUpO1xyXG4gIH1cclxuICBcclxuICAmLmlzLWludmFsaWQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgXHJcbiAgICAmOmZvY3VzIHtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgICBib3gtc2hhZG93OiAwIDAgMCAwLjI1cmVtIHJnYmEoMjIwLCA1MywgNjksIDAuMjUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmludmFsaWQtZmVlZGJhY2sge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi10b3A6IDAuMjVyZW07XHJcbiAgZm9udC1zaXplOiAwLjg3NWVtO1xyXG4gIGNvbG9yOiAjZGMzNTQ1O1xyXG59XHJcblxyXG4uYnRuLXByaW1hcnkge1xyXG4gICY6ZGlzYWJsZWQge1xyXG4gICAgb3BhY2l0eTogMC42NTtcclxuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5zcGlubmVyLWJvcmRlciB7XHJcbiAgICB3aWR0aDogMXJlbTtcclxuICAgIGhlaWdodDogMXJlbTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFJlc3BvbnNpdmUgYWRqdXN0bWVudHNcclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLmNlcnRpZmljYXRlLXVwbG9hZC1ib3gge1xyXG4gICAgcGFkZGluZzogMS41cmVtO1xyXG4gIH1cclxuICBcclxuICAudXBsb2FkLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC51cGxvYWQtdGV4dCB7XHJcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gIH1cclxufVxyXG5cclxudGV4dGFyZWEuZm9ybS1pbnB1dCB7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxuICBtaW4taGVpZ2h0OiAxMDBweDtcclxufSAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","Validators","ReactiveFormsModule","RouterLink","NavbarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","successMessage","errorMessage","ɵɵtextInterpolate","selectedFile","name","getErrorMessage","ɵɵproperty","type_r2","ɵɵpipeBind1","sem_r3","level_r4","ɵɵtemplate","ActivitySubmitComponent_div_63_option_6_Template","ActivitySubmitComponent_div_63_div_7_Template","ɵɵclassProp","tmp_1_0","activityForm","get","invalid","touched","levels","tmp_3_0","ɵɵelement","ActivitySubmitComponent","constructor","fb","authService","activityService","router","http","currentUser","isLoading","isSubmitting","calculatedPoints","maxFileSize","allowedFileTypes","activityTypes","semesters","sportsPointsMap","initializeForm","group","title","required","minLength","activityType","description","eventOrganizer","date","level","points","semester","min","max","valueChanges","subscribe","calculatePoints","updateLevelValidation","Object","keys","controls","forEach","key","markAsTouched","ngOnInit","getCurrentUser","navigate","value","levelControl","setValidators","clearValidators","setValue","updateValueAndValidity","Number","patchValue","onFileSelected","event","input","target","file","files","size","includes","type","onSubmit","formData","FormData","formValues","append","toString","_id","department","class","rollNumber","submitActivity","next","response","success","reset","fileInput","document","getElementById","setTimeout","message","error","status","console","controlName","control","hasError","charAt","toUpperCase","slice","errors","requiredLength","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","ActivityService","i4","Router","i5","HttpClient","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ActivitySubmitComponent_Template","rf","ctx","ActivitySubmitComponent_div_11_Template","ActivitySubmitComponent_div_12_Template","ɵɵlistener","ActivitySubmitComponent_Template_form_ngSubmit_13_listener","ActivitySubmitComponent_Template_input_change_19_listener","$event","ActivitySubmitComponent_span_24_Template","ActivitySubmitComponent_span_25_Template","ActivitySubmitComponent_div_28_Template","ActivitySubmitComponent_div_34_Template","ActivitySubmitComponent_option_41_Template","ActivitySubmitComponent_div_42_Template","ActivitySubmitComponent_div_48_Template","ActivitySubmitComponent_div_53_Template","ActivitySubmitComponent_option_61_Template","ActivitySubmitComponent_div_62_Template","ActivitySubmitComponent_div_63_Template","ActivitySubmitComponent_div_74_Template","ActivitySubmitComponent_span_77_Template","ActivitySubmitComponent_span_78_Template","ActivitySubmitComponent_span_79_Template","tmp_7_0","tmp_8_0","tmp_9_0","tmp_11_0","tmp_12_0","tmp_13_0","tmp_14_0","tmp_15_0","tmp_16_0","tmp_18_0","tmp_19_0","tmp_21_0","tmp_22_0","i6","NgForOf","NgIf","TitleCasePipe","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\activities\\activity-submit\\activity-submit.component.ts","C:\\Users\\LENOVO\\OneDrive\\Desktop\\finalminitrack\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\activities\\activity-submit\\activity-submit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport { ActivityService } from '../../../core/services/activity.service';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { User } from '../../../core/models/user.model';\nimport { Activity } from '../../../core/models/activity.model';\nimport { ApiResponse } from '../../../core/models/api-response.model';\n\n@Component({\n  selector: 'app-activity-submit',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, RouterLink, NavbarComponent],\n  templateUrl: './activity-submit.component.html',\n  styleUrls: ['./activity-submit.component.scss']\n})\nexport class ActivitySubmitComponent implements OnInit {\n  activityForm!: FormGroup;\n  currentUser: User | null = null;\n  isLoading = false;\n  isSubmitting = false;\n  errorMessage = '';\n  successMessage = '';\n  selectedFile: File | null = null;\n  calculatedPoints = 0;\n  maxFileSize = 5 * 1024 * 1024; // 5MB\n  allowedFileTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n  \n  activityTypes = ['sports', 'mooc', 'workshops', 'internships'] as const;\n  levels = [1, 2, 3, 4, 5];\n  semesters = [1, 2, 3, 4, 5, 6, 7, 8];\n\n  private sportsPointsMap: Record<number, number> = {\n    1: 8,\n    2: 15,\n    3: 25,\n    4: 40,\n    5: 50\n  };\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private activityService: ActivityService,\n    private router: Router,\n    private http: HttpClient\n  ) {\n    this.initializeForm();\n  }\n\n  private initializeForm(): void {\n    this.activityForm = this.fb.group({\n      title: ['', [Validators.required, Validators.minLength(3)]],\n      activityType: ['', Validators.required],\n      description: ['', [Validators.required, Validators.minLength(10)]],\n      eventOrganizer: ['', [Validators.required, Validators.minLength(3)]],\n      date: ['', Validators.required],\n      level: [null],\n      points: [0],\n      semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\n    });\n\n    // Calculate points when activity type or level changes\n    this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n      this.updateLevelValidation();\n    });\n\n    this.activityForm.get('level')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n    });\n\n    // Mark form as touched when any field changes\n    Object.keys(this.activityForm.controls).forEach(key => {\n      this.activityForm.get(key)?.valueChanges.subscribe(() => {\n        this.activityForm.get(key)?.markAsTouched();\n      });\n    });\n  }\n\n  ngOnInit(): void {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n  }\n\n  updateLevelValidation(): void {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const levelControl = this.activityForm.get('level');\n\n    if (activityType === 'sports') {\n      levelControl?.setValidators([Validators.required]);\n    } else {\n      levelControl?.clearValidators();\n      levelControl?.setValue(null);\n    }\n    levelControl?.updateValueAndValidity();\n  }\n\n  calculatePoints(): void {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const level = Number(this.activityForm.get('level')?.value);\n\n    if (!activityType) {\n      this.calculatedPoints = 0;\n      return;\n    }\n\n    switch (activityType) {\n      case 'sports':\n        this.calculatedPoints = this.sportsPointsMap[level] || 0;\n        break;\n      case 'mooc':\n        this.calculatedPoints = 50;\n        break;\n      case 'workshops':\n        this.calculatedPoints = 6;\n        break;\n      case 'internships':\n        this.calculatedPoints = 20;\n        break;\n      default:\n        this.calculatedPoints = 0;\n    }\n    \n    this.activityForm.patchValue({ points: this.calculatedPoints });\n  }\n\n  onFileSelected(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    const file = input.files?.[0];\n    \n    if (file) {\n      // Check file size\n      if (file.size > this.maxFileSize) {\n        this.errorMessage = `File size exceeds ${this.maxFileSize / (1024 * 1024)}MB limit`;\n        input.value = '';\n        this.selectedFile = null;\n        return;\n      }\n\n      // Check file type\n      if (!this.allowedFileTypes.includes(file.type)) {\n        this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\n        input.value = '';\n        this.selectedFile = null;\n        return;\n      }\n\n      this.selectedFile = file;\n      this.errorMessage = '';\n    }\n  }\n\n  onSubmit(): void {\n    // Mark all fields as touched to trigger validation messages\n    Object.keys(this.activityForm.controls).forEach(key => {\n      this.activityForm.get(key)?.markAsTouched();\n    });\n\n    if (!this.currentUser) {\n      this.errorMessage = 'Please login to submit an activity.';\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n\n    if (!this.selectedFile) {\n      this.errorMessage = 'Please upload a certificate.';\n      return;\n    }\n\n    if (this.activityForm.invalid) {\n      this.errorMessage = 'Please fill in all required fields correctly.';\n      return;\n    }\n\n    this.isSubmitting = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n\n    try {\n      const formData = new FormData();\n      const formValues = this.activityForm.value;\n      \n      // Add the certificate file\n      formData.append('certificateFile', this.selectedFile);\n      \n      // Add basic activity details\n      formData.append('title', formValues.title);\n      formData.append('activityType', formValues.activityType);\n      formData.append('description', formValues.description);\n      formData.append('eventOrganizer', formValues.eventOrganizer);\n      formData.append('date', formValues.date);\n      formData.append('semester', formValues.semester.toString());\n      formData.append('points', this.calculatedPoints.toString());\n      \n      // Add level for sports activities\n      if (formValues.activityType === 'sports' && formValues.level) {\n        formData.append('level', formValues.level.toString());\n      }\n      \n      // Add student details\n      formData.append('studentId', this.currentUser._id);\n      formData.append('studentName', this.currentUser.name);\n      formData.append('studentDepartment', this.currentUser.department || '');\n      formData.append('studentClass', this.currentUser.class || '');\n      formData.append('studentSemester', (this.currentUser.semester || '').toString());\n      formData.append('studentRollNumber', this.currentUser.rollNumber || '');\n\n      this.activityService.submitActivity(formData).subscribe({\n        next: (response: ApiResponse<Activity>) => {\n          if (response.success) {\n            this.successMessage = 'Activity submitted successfully!';\n            this.activityForm.reset();\n            this.selectedFile = null;\n            const fileInput = document.getElementById('certificateFile') as HTMLInputElement;\n            if (fileInput) {\n              fileInput.value = '';\n            }\n            \n            setTimeout(() => {\n              this.router.navigate(['/dashboard/student']);\n            }, 2000);\n          } else {\n            this.errorMessage = response.message || 'Failed to submit activity.';\n          }\n          this.isSubmitting = false;\n        },\n        error: (error: HttpErrorResponse) => {\n          this.isSubmitting = false;\n          \n          if (error.status === 401) {\n            this.errorMessage = 'Your session has expired. Please login again.';\n            this.router.navigate(['/auth/login']);\n            return;\n          }\n          \n          if (error.status === 413) {\n            this.errorMessage = 'The file is too large. Please upload a file smaller than 5MB.';\n            return;\n          }\n          \n          if (error.status === 400) {\n            this.errorMessage = error.error?.message || 'Please check all your inputs and try again.';\n            return;\n          }\n          \n          this.errorMessage = error.error?.message || 'Failed to submit activity. Please try again.';\n        }\n      });\n    } catch (error) {\n      console.error('Error preparing form data:', error);\n      this.isSubmitting = false;\n      this.errorMessage = 'An error occurred while preparing your submission.';\n    }\n  }\n\n  getErrorMessage(controlName: string): string {\n    const control = this.activityForm.get(controlName);\n    if (control?.hasError('required')) {\n      return `${controlName.charAt(0).toUpperCase() + controlName.slice(1)} is required`;\n    }\n    if (control?.hasError('minlength')) {\n      const minLength = control.errors?.['minlength'].requiredLength;\n      return `${controlName.charAt(0).toUpperCase() + controlName.slice(1)} must be at least ${minLength} characters`;\n    }\n    if (control?.hasError('min') || control?.hasError('max')) {\n      return `${controlName.charAt(0).toUpperCase() + controlName.slice(1)} must be between 1 and 8`;\n    }\n    return '';\n  }\n} ","<app-navbar></app-navbar>\r\n\r\n<div class=\"container py-4\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-12\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <h1 class=\"mb-0\">Submit Activity</h1>\r\n        <a routerLink=\"/dashboard/student\" class=\"btn btn-outline-primary\">Back to Dashboard</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"card border-0 shadow-sm\">\r\n    <div class=\"card-body p-4\">\r\n      <!-- Success Message -->\r\n      <div *ngIf=\"successMessage\" class=\"alert alert-success mb-4\">\r\n        {{ successMessage }}\r\n      </div>\r\n      \r\n      <!-- Error Message -->\r\n      <div *ngIf=\"errorMessage\" class=\"alert alert-danger mb-4\">\r\n        {{ errorMessage }}\r\n      </div>\r\n      \r\n      <form [formGroup]=\"activityForm\" (ngSubmit)=\"onSubmit()\">\r\n        <!-- Certificate Upload -->\r\n        <div class=\"mb-4\">\r\n          <h5 class=\"mb-3\">Upload Certificate</h5>\r\n          <div class=\"certificate-upload-container\">\r\n            <div class=\"certificate-upload-box\" [class.has-error]=\"!selectedFile && activityForm.touched\">\r\n              <input \r\n                type=\"file\" \r\n                id=\"certificateFile\" \r\n                class=\"file-input\" \r\n                accept=\".pdf,.jpg,.jpeg,.png\" \r\n                (change)=\"onFileSelected($event)\"\r\n              >\r\n              <label for=\"certificateFile\" class=\"file-label\">\r\n                <div class=\"upload-icon\">\r\n                  <i class=\"bi bi-cloud-arrow-up\"></i>\r\n                </div>\r\n                <div class=\"upload-text\">\r\n                  <span *ngIf=\"!selectedFile\">Drag & drop your certificate here or click to browse</span>\r\n                  <span *ngIf=\"selectedFile\">{{ selectedFile.name }}</span>\r\n                </div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <small class=\"text-muted\">Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)</small>\r\n          <div *ngIf=\"!selectedFile && activityForm.touched\" class=\"text-danger small mt-1\">\r\n            Certificate is required\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Certificate Details -->\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"title\" class=\"form-label\">Title</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"title\" \r\n              formControlName=\"title\" \r\n              class=\"form-control\" \r\n              [class.is-invalid]=\"activityForm.get('title')?.invalid && activityForm.get('title')?.touched\"\r\n            >\r\n            <div *ngIf=\"activityForm.get('title')?.invalid && activityForm.get('title')?.touched\" class=\"invalid-feedback\">\r\n              {{ getErrorMessage('title') }}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"activityType\" class=\"form-label\">Activity Type</label>\r\n            <select \r\n              id=\"activityType\" \r\n              formControlName=\"activityType\" \r\n              class=\"form-select\"\r\n              [class.is-invalid]=\"activityForm.get('activityType')?.invalid && activityForm.get('activityType')?.touched\"\r\n            >\r\n              <option value=\"\">Select Activity Type</option>\r\n              <option *ngFor=\"let type of activityTypes\" [value]=\"type\">\r\n                {{ type | titlecase }}\r\n              </option>\r\n            </select>\r\n            <div *ngIf=\"activityForm.get('activityType')?.invalid && activityForm.get('activityType')?.touched\" class=\"invalid-feedback\">\r\n              {{ getErrorMessage('activityType') }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"eventOrganizer\" class=\"form-label\">Event Organizer</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"eventOrganizer\" \r\n              formControlName=\"eventOrganizer\" \r\n              class=\"form-control\"\r\n              [class.is-invalid]=\"activityForm.get('eventOrganizer')?.invalid && activityForm.get('eventOrganizer')?.touched\"\r\n            >\r\n            <div *ngIf=\"activityForm.get('eventOrganizer')?.invalid && activityForm.get('eventOrganizer')?.touched\" class=\"invalid-feedback\">\r\n              {{ getErrorMessage('eventOrganizer') }}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"date\" class=\"form-label\">Date</label>\r\n            <input \r\n              type=\"date\" \r\n              id=\"date\" \r\n              formControlName=\"date\" \r\n              class=\"form-control\"\r\n              [class.is-invalid]=\"activityForm.get('date')?.invalid && activityForm.get('date')?.touched\"\r\n            >\r\n            <div *ngIf=\"activityForm.get('date')?.invalid && activityForm.get('date')?.touched\" class=\"invalid-feedback\">\r\n              {{ getErrorMessage('date') }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label for=\"semester\" class=\"form-label\">Semester</label>\r\n            <select \r\n              id=\"semester\" \r\n              formControlName=\"semester\" \r\n              class=\"form-select\"\r\n              [class.is-invalid]=\"activityForm.get('semester')?.invalid && activityForm.get('semester')?.touched\"\r\n            >\r\n              <option value=\"\">Select Semester</option>\r\n              <option *ngFor=\"let sem of semesters\" [value]=\"sem\">\r\n                Semester {{ sem }}\r\n              </option>\r\n            </select>\r\n            <div *ngIf=\"activityForm.get('semester')?.invalid && activityForm.get('semester')?.touched\" class=\"invalid-feedback\">\r\n              {{ getErrorMessage('semester') }}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"col-md-6 mb-3\" *ngIf=\"activityForm.get('activityType')?.value === 'sports'\">\r\n            <label for=\"level\" class=\"form-label\">Level</label>\r\n            <select \r\n              id=\"level\" \r\n              formControlName=\"level\" \r\n              class=\"form-select\"\r\n              [class.is-invalid]=\"activityForm.get('level')?.invalid && activityForm.get('level')?.touched\"\r\n            >\r\n              <option value=\"\">Select Level</option>\r\n              <option *ngFor=\"let level of levels\" [value]=\"level\">\r\n                Level {{ level }}\r\n              </option>\r\n            </select>\r\n            <div *ngIf=\"activityForm.get('level')?.invalid && activityForm.get('level')?.touched\" class=\"invalid-feedback\">\r\n              {{ getErrorMessage('level') }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 mb-3\">\r\n            <label class=\"form-label\">Points</label>\r\n            <div class=\"form-control bg-light\">\r\n              {{ calculatedPoints }} points\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"mb-3\">\r\n          <label for=\"description\" class=\"form-label\">Description</label>\r\n          <textarea \r\n            id=\"description\" \r\n            formControlName=\"description\" \r\n            class=\"form-control\"\r\n            [class.is-invalid]=\"activityForm.get('description')?.invalid && activityForm.get('description')?.touched\"\r\n            rows=\"4\"\r\n          ></textarea>\r\n          <div *ngIf=\"activityForm.get('description')?.invalid && activityForm.get('description')?.touched\" class=\"invalid-feedback\">\r\n            {{ getErrorMessage('description') }}\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"d-grid gap-2 mt-4\">\r\n          <button \r\n            type=\"submit\" \r\n            class=\"btn btn-primary\" \r\n            [disabled]=\"activityForm.invalid || isSubmitting || !selectedFile\"\r\n          >\r\n            <span *ngIf=\"isSubmitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n            <span *ngIf=\"isSubmitting\">Submitting...</span>\r\n            <span *ngIf=\"!isSubmitting\">Submit Activity</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div> "],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAAiCC,UAAU,EAAEC,mBAAmB,QAAQ,gBAAgB;AACxF,SAAiBC,UAAU,QAAQ,iBAAiB;AAEpD,SAASC,eAAe,QAAQ,qCAAqC;;;;;;;;;;ICU/DC,EAAA,CAAAC,cAAA,cAA6D;IAC3DD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAC,cAAA,MACF;;;;;IAGAP,EAAA,CAAAC,cAAA,cAA0D;IACxDD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAE,YAAA,MACF;;;;;IAoBYR,EAAA,CAAAC,cAAA,WAA4B;IAAAD,EAAA,CAAAE,MAAA,2DAAoD;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IACvFH,EAAA,CAAAC,cAAA,WAA2B;IAAAD,EAAA,CAAAE,MAAA,GAAuB;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;IAA9BH,EAAA,CAAAI,SAAA,EAAuB;IAAvBJ,EAAA,CAAAS,iBAAA,CAAAH,MAAA,CAAAI,YAAA,CAAAC,IAAA,CAAuB;;;;;IAM1DX,EAAA,CAAAC,cAAA,cAAkF;IAChFD,EAAA,CAAAE,MAAA,gCACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IAcJH,EAAA,CAAAC,cAAA,cAA+G;IAC7GD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,eACF;;;;;IAYEZ,EAAA,CAAAC,cAAA,iBAA0D;IACxDD,EAAA,CAAAE,MAAA,GACF;;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAFkCH,EAAA,CAAAa,UAAA,UAAAC,OAAA,CAAc;IACvDd,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAL,EAAA,CAAAe,WAAA,OAAAD,OAAA,OACF;;;;;IAEFd,EAAA,CAAAC,cAAA,cAA6H;IAC3HD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,sBACF;;;;;IAcAZ,EAAA,CAAAC,cAAA,cAAiI;IAC/HD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,wBACF;;;;;IAYAZ,EAAA,CAAAC,cAAA,cAA6G;IAC3GD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,cACF;;;;;IAcEZ,EAAA,CAAAC,cAAA,iBAAoD;IAClDD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAF6BH,EAAA,CAAAa,UAAA,UAAAG,MAAA,CAAa;IACjDhB,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,eAAAW,MAAA,MACF;;;;;IAEFhB,EAAA,CAAAC,cAAA,cAAqH;IACnHD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,kBACF;;;;;IAYEZ,EAAA,CAAAC,cAAA,iBAAqD;IACnDD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAF4BH,EAAA,CAAAa,UAAA,UAAAI,QAAA,CAAe;IAClDjB,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,YAAAY,QAAA,MACF;;;;;IAEFjB,EAAA,CAAAC,cAAA,cAA+G;IAC7GD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,eACF;;;;;IAdAZ,EADF,CAAAC,cAAA,cAAwF,gBAChD;IAAAD,EAAA,CAAAE,MAAA,YAAK;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAOjDH,EANF,CAAAC,cAAA,iBAKC,iBACkB;IAAAD,EAAA,CAAAE,MAAA,mBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAS;IACtCH,EAAA,CAAAkB,UAAA,IAAAC,gDAAA,qBAAqD;IAGvDnB,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAkB,UAAA,IAAAE,6CAAA,kBAA+G;IAGjHpB,EAAA,CAAAG,YAAA,EAAM;;;;;;IAVFH,EAAA,CAAAI,SAAA,GAA6F;IAA7FJ,EAAA,CAAAqB,WAAA,iBAAAC,OAAA,GAAAhB,MAAA,CAAAiB,YAAA,CAAAC,GAAA,4BAAAF,OAAA,CAAAG,OAAA,OAAAH,OAAA,GAAAhB,MAAA,CAAAiB,YAAA,CAAAC,GAAA,4BAAAF,OAAA,CAAAI,OAAA,EAA6F;IAGnE1B,EAAA,CAAAI,SAAA,GAAS;IAATJ,EAAA,CAAAa,UAAA,YAAAP,MAAA,CAAAqB,MAAA,CAAS;IAI/B3B,EAAA,CAAAI,SAAA,EAA8E;IAA9EJ,EAAA,CAAAa,UAAA,WAAAe,OAAA,GAAAtB,MAAA,CAAAiB,YAAA,CAAAC,GAAA,4BAAAI,OAAA,CAAAH,OAAA,OAAAG,OAAA,GAAAtB,MAAA,CAAAiB,YAAA,CAAAC,GAAA,4BAAAI,OAAA,CAAAF,OAAA,EAA8E;;;;;IAwBtF1B,EAAA,CAAAC,cAAA,cAA2H;IACzHD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAM,eAAA,qBACF;;;;;IASEZ,EAAA,CAAA6B,SAAA,eAAgF;;;;;IAChF7B,EAAA,CAAAC,cAAA,WAA2B;IAAAD,EAAA,CAAAE,MAAA,oBAAa;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAC/CH,EAAA,CAAAC,cAAA,WAA4B;IAAAD,EAAA,CAAAE,MAAA,sBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;ADzK9D,OAAM,MAAO2B,uBAAuB;EAwBlCC,YACUC,EAAe,EACfC,WAAwB,EACxBC,eAAgC,EAChCC,MAAc,EACdC,IAAgB;IAJhB,KAAAJ,EAAE,GAAFA,EAAE;IACF,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,IAAI,GAAJA,IAAI;IA3Bd,KAAAC,WAAW,GAAgB,IAAI;IAC/B,KAAAC,SAAS,GAAG,KAAK;IACjB,KAAAC,YAAY,GAAG,KAAK;IACpB,KAAA/B,YAAY,GAAG,EAAE;IACjB,KAAAD,cAAc,GAAG,EAAE;IACnB,KAAAG,YAAY,GAAgB,IAAI;IAChC,KAAA8B,gBAAgB,GAAG,CAAC;IACpB,KAAAC,WAAW,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;IAC/B,KAAAC,gBAAgB,GAAG,CAAC,iBAAiB,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,CAAC;IAE9E,KAAAC,aAAa,GAAG,CAAC,QAAQ,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,CAAU;IACvE,KAAAhB,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACxB,KAAAiB,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAE5B,KAAAC,eAAe,GAA2B;MAChD,CAAC,EAAE,CAAC;MACJ,CAAC,EAAE,EAAE;MACL,CAAC,EAAE,EAAE;MACL,CAAC,EAAE,EAAE;MACL,CAAC,EAAE;KACJ;IASC,IAAI,CAACC,cAAc,EAAE;EACvB;EAEQA,cAAcA,CAAA;IACpB,IAAI,CAACvB,YAAY,GAAG,IAAI,CAACS,EAAE,CAACe,KAAK,CAAC;MAChCC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACpD,UAAU,CAACqD,QAAQ,EAAErD,UAAU,CAACsD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3DC,YAAY,EAAE,CAAC,EAAE,EAAEvD,UAAU,CAACqD,QAAQ,CAAC;MACvCG,WAAW,EAAE,CAAC,EAAE,EAAE,CAACxD,UAAU,CAACqD,QAAQ,EAAErD,UAAU,CAACsD,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MAClEG,cAAc,EAAE,CAAC,EAAE,EAAE,CAACzD,UAAU,CAACqD,QAAQ,EAAErD,UAAU,CAACsD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACpEI,IAAI,EAAE,CAAC,EAAE,EAAE1D,UAAU,CAACqD,QAAQ,CAAC;MAC/BM,KAAK,EAAE,CAAC,IAAI,CAAC;MACbC,MAAM,EAAE,CAAC,CAAC,CAAC;MACXC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC7D,UAAU,CAACqD,QAAQ,EAAErD,UAAU,CAAC8D,GAAG,CAAC,CAAC,CAAC,EAAE9D,UAAU,CAAC+D,GAAG,CAAC,CAAC,CAAC,CAAC;KAC3E,CAAC;IAEF;IACA,IAAI,CAACpC,YAAY,CAACC,GAAG,CAAC,cAAc,CAAC,EAAEoC,YAAY,CAACC,SAAS,CAAC,MAAK;MACjE,IAAI,CAACC,eAAe,EAAE;MACtB,IAAI,CAACC,qBAAqB,EAAE;IAC9B,CAAC,CAAC;IAEF,IAAI,CAACxC,YAAY,CAACC,GAAG,CAAC,OAAO,CAAC,EAAEoC,YAAY,CAACC,SAAS,CAAC,MAAK;MAC1D,IAAI,CAACC,eAAe,EAAE;IACxB,CAAC,CAAC;IAEF;IACAE,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC1C,YAAY,CAAC2C,QAAQ,CAAC,CAACC,OAAO,CAACC,GAAG,IAAG;MACpD,IAAI,CAAC7C,YAAY,CAACC,GAAG,CAAC4C,GAAG,CAAC,EAAER,YAAY,CAACC,SAAS,CAAC,MAAK;QACtD,IAAI,CAACtC,YAAY,CAACC,GAAG,CAAC4C,GAAG,CAAC,EAAEC,aAAa,EAAE;MAC7C,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACjC,WAAW,GAAG,IAAI,CAACJ,WAAW,CAACsC,cAAc,EAAE;IACpD,IAAI,CAAC,IAAI,CAAClC,WAAW,EAAE;MACrB,IAAI,CAACF,MAAM,CAACqC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;MACrC;;EAEJ;EAEAT,qBAAqBA,CAAA;IACnB,MAAMZ,YAAY,GAAG,IAAI,CAAC5B,YAAY,CAACC,GAAG,CAAC,cAAc,CAAC,EAAEiD,KAAK;IACjE,MAAMC,YAAY,GAAG,IAAI,CAACnD,YAAY,CAACC,GAAG,CAAC,OAAO,CAAC;IAEnD,IAAI2B,YAAY,KAAK,QAAQ,EAAE;MAC7BuB,YAAY,EAAEC,aAAa,CAAC,CAAC/E,UAAU,CAACqD,QAAQ,CAAC,CAAC;KACnD,MAAM;MACLyB,YAAY,EAAEE,eAAe,EAAE;MAC/BF,YAAY,EAAEG,QAAQ,CAAC,IAAI,CAAC;;IAE9BH,YAAY,EAAEI,sBAAsB,EAAE;EACxC;EAEAhB,eAAeA,CAAA;IACb,MAAMX,YAAY,GAAG,IAAI,CAAC5B,YAAY,CAACC,GAAG,CAAC,cAAc,CAAC,EAAEiD,KAAK;IACjE,MAAMlB,KAAK,GAAGwB,MAAM,CAAC,IAAI,CAACxD,YAAY,CAACC,GAAG,CAAC,OAAO,CAAC,EAAEiD,KAAK,CAAC;IAE3D,IAAI,CAACtB,YAAY,EAAE;MACjB,IAAI,CAACX,gBAAgB,GAAG,CAAC;MACzB;;IAGF,QAAQW,YAAY;MAClB,KAAK,QAAQ;QACX,IAAI,CAACX,gBAAgB,GAAG,IAAI,CAACK,eAAe,CAACU,KAAK,CAAC,IAAI,CAAC;QACxD;MACF,KAAK,MAAM;QACT,IAAI,CAACf,gBAAgB,GAAG,EAAE;QAC1B;MACF,KAAK,WAAW;QACd,IAAI,CAACA,gBAAgB,GAAG,CAAC;QACzB;MACF,KAAK,aAAa;QAChB,IAAI,CAACA,gBAAgB,GAAG,EAAE;QAC1B;MACF;QACE,IAAI,CAACA,gBAAgB,GAAG,CAAC;;IAG7B,IAAI,CAACjB,YAAY,CAACyD,UAAU,CAAC;MAAExB,MAAM,EAAE,IAAI,CAAChB;IAAgB,CAAE,CAAC;EACjE;EAEAyC,cAAcA,CAACC,KAAY;IACzB,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAA0B;IAC9C,MAAMC,IAAI,GAAGF,KAAK,CAACG,KAAK,GAAG,CAAC,CAAC;IAE7B,IAAID,IAAI,EAAE;MACR;MACA,IAAIA,IAAI,CAACE,IAAI,GAAG,IAAI,CAAC9C,WAAW,EAAE;QAChC,IAAI,CAACjC,YAAY,GAAG,qBAAqB,IAAI,CAACiC,WAAW,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU;QACnF0C,KAAK,CAACV,KAAK,GAAG,EAAE;QAChB,IAAI,CAAC/D,YAAY,GAAG,IAAI;QACxB;;MAGF;MACA,IAAI,CAAC,IAAI,CAACgC,gBAAgB,CAAC8C,QAAQ,CAACH,IAAI,CAACI,IAAI,CAAC,EAAE;QAC9C,IAAI,CAACjF,YAAY,GAAG,oEAAoE;QACxF2E,KAAK,CAACV,KAAK,GAAG,EAAE;QAChB,IAAI,CAAC/D,YAAY,GAAG,IAAI;QACxB;;MAGF,IAAI,CAACA,YAAY,GAAG2E,IAAI;MACxB,IAAI,CAAC7E,YAAY,GAAG,EAAE;;EAE1B;EAEAkF,QAAQA,CAAA;IACN;IACA1B,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC1C,YAAY,CAAC2C,QAAQ,CAAC,CAACC,OAAO,CAACC,GAAG,IAAG;MACpD,IAAI,CAAC7C,YAAY,CAACC,GAAG,CAAC4C,GAAG,CAAC,EAAEC,aAAa,EAAE;IAC7C,CAAC,CAAC;IAEF,IAAI,CAAC,IAAI,CAAChC,WAAW,EAAE;MACrB,IAAI,CAAC7B,YAAY,GAAG,qCAAqC;MACzD,IAAI,CAAC2B,MAAM,CAACqC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;MACrC;;IAGF,IAAI,CAAC,IAAI,CAAC9D,YAAY,EAAE;MACtB,IAAI,CAACF,YAAY,GAAG,8BAA8B;MAClD;;IAGF,IAAI,IAAI,CAACe,YAAY,CAACE,OAAO,EAAE;MAC7B,IAAI,CAACjB,YAAY,GAAG,+CAA+C;MACnE;;IAGF,IAAI,CAAC+B,YAAY,GAAG,IAAI;IACxB,IAAI,CAAC/B,YAAY,GAAG,EAAE;IACtB,IAAI,CAACD,cAAc,GAAG,EAAE;IAExB,IAAI;MACF,MAAMoF,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/B,MAAMC,UAAU,GAAG,IAAI,CAACtE,YAAY,CAACkD,KAAK;MAE1C;MACAkB,QAAQ,CAACG,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAACpF,YAAY,CAAC;MAErD;MACAiF,QAAQ,CAACG,MAAM,CAAC,OAAO,EAAED,UAAU,CAAC7C,KAAK,CAAC;MAC1C2C,QAAQ,CAACG,MAAM,CAAC,cAAc,EAAED,UAAU,CAAC1C,YAAY,CAAC;MACxDwC,QAAQ,CAACG,MAAM,CAAC,aAAa,EAAED,UAAU,CAACzC,WAAW,CAAC;MACtDuC,QAAQ,CAACG,MAAM,CAAC,gBAAgB,EAAED,UAAU,CAACxC,cAAc,CAAC;MAC5DsC,QAAQ,CAACG,MAAM,CAAC,MAAM,EAAED,UAAU,CAACvC,IAAI,CAAC;MACxCqC,QAAQ,CAACG,MAAM,CAAC,UAAU,EAAED,UAAU,CAACpC,QAAQ,CAACsC,QAAQ,EAAE,CAAC;MAC3DJ,QAAQ,CAACG,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACtD,gBAAgB,CAACuD,QAAQ,EAAE,CAAC;MAE3D;MACA,IAAIF,UAAU,CAAC1C,YAAY,KAAK,QAAQ,IAAI0C,UAAU,CAACtC,KAAK,EAAE;QAC5DoC,QAAQ,CAACG,MAAM,CAAC,OAAO,EAAED,UAAU,CAACtC,KAAK,CAACwC,QAAQ,EAAE,CAAC;;MAGvD;MACAJ,QAAQ,CAACG,MAAM,CAAC,WAAW,EAAE,IAAI,CAACzD,WAAW,CAAC2D,GAAG,CAAC;MAClDL,QAAQ,CAACG,MAAM,CAAC,aAAa,EAAE,IAAI,CAACzD,WAAW,CAAC1B,IAAI,CAAC;MACrDgF,QAAQ,CAACG,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAACzD,WAAW,CAAC4D,UAAU,IAAI,EAAE,CAAC;MACvEN,QAAQ,CAACG,MAAM,CAAC,cAAc,EAAE,IAAI,CAACzD,WAAW,CAAC6D,KAAK,IAAI,EAAE,CAAC;MAC7DP,QAAQ,CAACG,MAAM,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAACzD,WAAW,CAACoB,QAAQ,IAAI,EAAE,EAAEsC,QAAQ,EAAE,CAAC;MAChFJ,QAAQ,CAACG,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAACzD,WAAW,CAAC8D,UAAU,IAAI,EAAE,CAAC;MAEvE,IAAI,CAACjE,eAAe,CAACkE,cAAc,CAACT,QAAQ,CAAC,CAAC9B,SAAS,CAAC;QACtDwC,IAAI,EAAGC,QAA+B,IAAI;UACxC,IAAIA,QAAQ,CAACC,OAAO,EAAE;YACpB,IAAI,CAAChG,cAAc,GAAG,kCAAkC;YACxD,IAAI,CAACgB,YAAY,CAACiF,KAAK,EAAE;YACzB,IAAI,CAAC9F,YAAY,GAAG,IAAI;YACxB,MAAM+F,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAqB;YAChF,IAAIF,SAAS,EAAE;cACbA,SAAS,CAAChC,KAAK,GAAG,EAAE;;YAGtBmC,UAAU,CAAC,MAAK;cACd,IAAI,CAACzE,MAAM,CAACqC,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;YAC9C,CAAC,EAAE,IAAI,CAAC;WACT,MAAM;YACL,IAAI,CAAChE,YAAY,GAAG8F,QAAQ,CAACO,OAAO,IAAI,4BAA4B;;UAEtE,IAAI,CAACtE,YAAY,GAAG,KAAK;QAC3B,CAAC;QACDuE,KAAK,EAAGA,KAAwB,IAAI;UAClC,IAAI,CAACvE,YAAY,GAAG,KAAK;UAEzB,IAAIuE,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;YACxB,IAAI,CAACvG,YAAY,GAAG,+CAA+C;YACnE,IAAI,CAAC2B,MAAM,CAACqC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;YACrC;;UAGF,IAAIsC,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;YACxB,IAAI,CAACvG,YAAY,GAAG,+DAA+D;YACnF;;UAGF,IAAIsG,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;YACxB,IAAI,CAACvG,YAAY,GAAGsG,KAAK,CAACA,KAAK,EAAED,OAAO,IAAI,6CAA6C;YACzF;;UAGF,IAAI,CAACrG,YAAY,GAAGsG,KAAK,CAACA,KAAK,EAAED,OAAO,IAAI,8CAA8C;QAC5F;OACD,CAAC;KACH,CAAC,OAAOC,KAAK,EAAE;MACdE,OAAO,CAACF,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,IAAI,CAACvE,YAAY,GAAG,KAAK;MACzB,IAAI,CAAC/B,YAAY,GAAG,oDAAoD;;EAE5E;EAEAI,eAAeA,CAACqG,WAAmB;IACjC,MAAMC,OAAO,GAAG,IAAI,CAAC3F,YAAY,CAACC,GAAG,CAACyF,WAAW,CAAC;IAClD,IAAIC,OAAO,EAAEC,QAAQ,CAAC,UAAU,CAAC,EAAE;MACjC,OAAO,GAAGF,WAAW,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGJ,WAAW,CAACK,KAAK,CAAC,CAAC,CAAC,cAAc;;IAEpF,IAAIJ,OAAO,EAAEC,QAAQ,CAAC,WAAW,CAAC,EAAE;MAClC,MAAMjE,SAAS,GAAGgE,OAAO,CAACK,MAAM,GAAG,WAAW,CAAC,CAACC,cAAc;MAC9D,OAAO,GAAGP,WAAW,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGJ,WAAW,CAACK,KAAK,CAAC,CAAC,CAAC,qBAAqBpE,SAAS,aAAa;;IAEjH,IAAIgE,OAAO,EAAEC,QAAQ,CAAC,KAAK,CAAC,IAAID,OAAO,EAAEC,QAAQ,CAAC,KAAK,CAAC,EAAE;MACxD,OAAO,GAAGF,WAAW,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGJ,WAAW,CAACK,KAAK,CAAC,CAAC,CAAC,0BAA0B;;IAEhG,OAAO,EAAE;EACX;;;uBAhQWxF,uBAAuB,EAAA9B,EAAA,CAAAyH,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAA3H,EAAA,CAAAyH,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAA7H,EAAA,CAAAyH,iBAAA,CAAAK,EAAA,CAAAC,eAAA,GAAA/H,EAAA,CAAAyH,iBAAA,CAAAO,EAAA,CAAAC,MAAA,GAAAjI,EAAA,CAAAyH,iBAAA,CAAAS,EAAA,CAAAC,UAAA;IAAA;EAAA;;;YAAvBrG,uBAAuB;MAAAsG,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAtI,EAAA,CAAAuI,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,iCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCnBpC7I,EAAA,CAAA6B,SAAA,iBAAyB;UAMjB7B,EAJR,CAAAC,cAAA,aAA4B,aACJ,aACA,aAC6C,YAC5C;UAAAD,EAAA,CAAAE,MAAA,sBAAe;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACrCH,EAAA,CAAAC,cAAA,WAAmE;UAAAD,EAAA,CAAAE,MAAA,wBAAiB;UAG1FF,EAH0F,CAAAG,YAAA,EAAI,EACpF,EACF,EACF;UAGJH,EADF,CAAAC,cAAA,aAAqC,cACR;UAOzBD,EALA,CAAAkB,UAAA,KAAA6H,uCAAA,iBAA6D,KAAAC,uCAAA,iBAKH;UAI1DhJ,EAAA,CAAAC,cAAA,gBAAyD;UAAxBD,EAAA,CAAAiJ,UAAA,sBAAAC,2DAAA;YAAA,OAAYJ,GAAA,CAAApD,QAAA,EAAU;UAAA,EAAC;UAGpD1F,EADF,CAAAC,cAAA,eAAkB,cACC;UAAAD,EAAA,CAAAE,MAAA,0BAAkB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAGpCH,EAFJ,CAAAC,cAAA,eAA0C,eACsD,iBAO3F;UADCD,EAAA,CAAAiJ,UAAA,oBAAAE,0DAAAC,MAAA;YAAA,OAAUN,GAAA,CAAA7D,cAAA,CAAAmE,MAAA,CAAsB;UAAA,EAAC;UALnCpJ,EAAA,CAAAG,YAAA,EAMC;UAECH,EADF,CAAAC,cAAA,iBAAgD,eACrB;UACvBD,EAAA,CAAA6B,SAAA,aAAoC;UACtC7B,EAAA,CAAAG,YAAA,EAAM;UACNH,EAAA,CAAAC,cAAA,eAAyB;UAEvBD,EADA,CAAAkB,UAAA,KAAAmI,wCAAA,mBAA4B,KAAAC,wCAAA,mBACD;UAInCtJ,EAHM,CAAAG,YAAA,EAAM,EACA,EACJ,EACF;UACNH,EAAA,CAAAC,cAAA,iBAA0B;UAAAD,EAAA,CAAAE,MAAA,8DAAsD;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACxFH,EAAA,CAAAkB,UAAA,KAAAqI,uCAAA,kBAAkF;UAGpFvJ,EAAA,CAAAG,YAAA,EAAM;UAKFH,EAFJ,CAAAC,cAAA,eAAiB,eACY,iBACa;UAAAD,EAAA,CAAAE,MAAA,aAAK;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACnDH,EAAA,CAAA6B,SAAA,iBAMC;UACD7B,EAAA,CAAAkB,UAAA,KAAAsI,uCAAA,kBAA+G;UAGjHxJ,EAAA,CAAAG,YAAA,EAAM;UAGJH,EADF,CAAAC,cAAA,eAA2B,iBACoB;UAAAD,EAAA,CAAAE,MAAA,qBAAa;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAOhEH,EANF,CAAAC,cAAA,kBAKC,kBACkB;UAAAD,EAAA,CAAAE,MAAA,4BAAoB;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAC9CH,EAAA,CAAAkB,UAAA,KAAAuI,0CAAA,qBAA0D;UAG5DzJ,EAAA,CAAAG,YAAA,EAAS;UACTH,EAAA,CAAAkB,UAAA,KAAAwI,uCAAA,kBAA6H;UAIjI1J,EADE,CAAAG,YAAA,EAAM,EACF;UAIFH,EAFJ,CAAAC,cAAA,eAAiB,eACY,iBACsB;UAAAD,EAAA,CAAAE,MAAA,uBAAe;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACtEH,EAAA,CAAA6B,SAAA,iBAMC;UACD7B,EAAA,CAAAkB,UAAA,KAAAyI,uCAAA,kBAAiI;UAGnI3J,EAAA,CAAAG,YAAA,EAAM;UAGJH,EADF,CAAAC,cAAA,eAA2B,iBACY;UAAAD,EAAA,CAAAE,MAAA,YAAI;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACjDH,EAAA,CAAA6B,SAAA,iBAMC;UACD7B,EAAA,CAAAkB,UAAA,KAAA0I,uCAAA,kBAA6G;UAIjH5J,EADE,CAAAG,YAAA,EAAM,EACF;UAIFH,EAFJ,CAAAC,cAAA,eAAiB,eACY,iBACgB;UAAAD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAOvDH,EANF,CAAAC,cAAA,kBAKC,kBACkB;UAAAD,EAAA,CAAAE,MAAA,uBAAe;UAAAF,EAAA,CAAAG,YAAA,EAAS;UACzCH,EAAA,CAAAkB,UAAA,KAAA2I,0CAAA,qBAAoD;UAGtD7J,EAAA,CAAAG,YAAA,EAAS;UACTH,EAAA,CAAAkB,UAAA,KAAA4I,uCAAA,kBAAqH;UAGvH9J,EAAA,CAAAG,YAAA,EAAM;UAENH,EAAA,CAAAkB,UAAA,KAAA6I,uCAAA,kBAAwF;UAiB1F/J,EAAA,CAAAG,YAAA,EAAM;UAIFH,EAFJ,CAAAC,cAAA,eAAiB,eACY,iBACC;UAAAD,EAAA,CAAAE,MAAA,cAAM;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACxCH,EAAA,CAAAC,cAAA,eAAmC;UACjCD,EAAA,CAAAE,MAAA,IACF;UAEJF,EAFI,CAAAG,YAAA,EAAM,EACF,EACF;UAGJH,EADF,CAAAC,cAAA,eAAkB,iBAC4B;UAAAD,EAAA,CAAAE,MAAA,mBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAC/DH,EAAA,CAAA6B,SAAA,oBAMY;UACZ7B,EAAA,CAAAkB,UAAA,KAAA8I,uCAAA,kBAA2H;UAG7HhK,EAAA,CAAAG,YAAA,EAAM;UAGJH,EADF,CAAAC,cAAA,eAA+B,kBAK5B;UAGCD,EAFA,CAAAkB,UAAA,KAAA+I,wCAAA,mBAAyE,KAAAC,wCAAA,mBAC9C,KAAAC,wCAAA,mBACC;UAMxCnK,EALU,CAAAG,YAAA,EAAS,EACL,EACD,EACH,EACF,EACF;;;;;;;;;;;;;;;;UAnLMH,EAAA,CAAAI,SAAA,IAAoB;UAApBJ,EAAA,CAAAa,UAAA,SAAAiI,GAAA,CAAAvI,cAAA,CAAoB;UAKpBP,EAAA,CAAAI,SAAA,EAAkB;UAAlBJ,EAAA,CAAAa,UAAA,SAAAiI,GAAA,CAAAtI,YAAA,CAAkB;UAIlBR,EAAA,CAAAI,SAAA,EAA0B;UAA1BJ,EAAA,CAAAa,UAAA,cAAAiI,GAAA,CAAAvH,YAAA,CAA0B;UAKUvB,EAAA,CAAAI,SAAA,GAAyD;UAAzDJ,EAAA,CAAAqB,WAAA,eAAAyH,GAAA,CAAApI,YAAA,IAAAoI,GAAA,CAAAvH,YAAA,CAAAG,OAAA,CAAyD;UAahF1B,EAAA,CAAAI,SAAA,GAAmB;UAAnBJ,EAAA,CAAAa,UAAA,UAAAiI,GAAA,CAAApI,YAAA,CAAmB;UACnBV,EAAA,CAAAI,SAAA,EAAkB;UAAlBJ,EAAA,CAAAa,UAAA,SAAAiI,GAAA,CAAApI,YAAA,CAAkB;UAM3BV,EAAA,CAAAI,SAAA,GAA2C;UAA3CJ,EAAA,CAAAa,UAAA,UAAAiI,GAAA,CAAApI,YAAA,IAAAoI,GAAA,CAAAvH,YAAA,CAAAG,OAAA,CAA2C;UAc7C1B,EAAA,CAAAI,SAAA,GAA6F;UAA7FJ,EAAA,CAAAqB,WAAA,iBAAA+I,OAAA,GAAAtB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,4BAAA4I,OAAA,CAAA3I,OAAA,OAAA2I,OAAA,GAAAtB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,4BAAA4I,OAAA,CAAA1I,OAAA,EAA6F;UAEzF1B,EAAA,CAAAI,SAAA,EAA8E;UAA9EJ,EAAA,CAAAa,UAAA,WAAAwJ,OAAA,GAAAvB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,4BAAA6I,OAAA,CAAA5I,OAAA,OAAA4I,OAAA,GAAAvB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,4BAAA6I,OAAA,CAAA3I,OAAA,EAA8E;UAWlF1B,EAAA,CAAAI,SAAA,GAA2G;UAA3GJ,EAAA,CAAAqB,WAAA,iBAAAiJ,OAAA,GAAAxB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,mCAAA8I,OAAA,CAAA7I,OAAA,OAAA6I,OAAA,GAAAxB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,mCAAA8I,OAAA,CAAA5I,OAAA,EAA2G;UAGlF1B,EAAA,CAAAI,SAAA,GAAgB;UAAhBJ,EAAA,CAAAa,UAAA,YAAAiI,GAAA,CAAAnG,aAAA,CAAgB;UAIrC3C,EAAA,CAAAI,SAAA,EAA4F;UAA5FJ,EAAA,CAAAa,UAAA,WAAA0J,QAAA,GAAAzB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,mCAAA+I,QAAA,CAAA9I,OAAA,OAAA8I,QAAA,GAAAzB,GAAA,CAAAvH,YAAA,CAAAC,GAAA,mCAAA+I,QAAA,CAAA7I,OAAA,EAA4F;UAchG1B,EAAA,CAAAI,SAAA,GAA+G;UAA/GJ,EAAA,CAAAqB,WAAA,iBAAAmJ,QAAA,GAAA1B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,qCAAAgJ,QAAA,CAAA/I,OAAA,OAAA+I,QAAA,GAAA1B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,qCAAAgJ,QAAA,CAAA9I,OAAA,EAA+G;UAE3G1B,EAAA,CAAAI,SAAA,EAAgG;UAAhGJ,EAAA,CAAAa,UAAA,WAAA4J,QAAA,GAAA3B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,qCAAAiJ,QAAA,CAAAhJ,OAAA,OAAAgJ,QAAA,GAAA3B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,qCAAAiJ,QAAA,CAAA/I,OAAA,EAAgG;UAYpG1B,EAAA,CAAAI,SAAA,GAA2F;UAA3FJ,EAAA,CAAAqB,WAAA,iBAAAqJ,QAAA,GAAA5B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,2BAAAkJ,QAAA,CAAAjJ,OAAA,OAAAiJ,QAAA,GAAA5B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,2BAAAkJ,QAAA,CAAAhJ,OAAA,EAA2F;UAEvF1B,EAAA,CAAAI,SAAA,EAA4E;UAA5EJ,EAAA,CAAAa,UAAA,WAAA8J,QAAA,GAAA7B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,2BAAAmJ,QAAA,CAAAlJ,OAAA,OAAAkJ,QAAA,GAAA7B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,2BAAAmJ,QAAA,CAAAjJ,OAAA,EAA4E;UAahF1B,EAAA,CAAAI,SAAA,GAAmG;UAAnGJ,EAAA,CAAAqB,WAAA,iBAAAuJ,QAAA,GAAA9B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,+BAAAoJ,QAAA,CAAAnJ,OAAA,OAAAmJ,QAAA,GAAA9B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,+BAAAoJ,QAAA,CAAAlJ,OAAA,EAAmG;UAG3E1B,EAAA,CAAAI,SAAA,GAAY;UAAZJ,EAAA,CAAAa,UAAA,YAAAiI,GAAA,CAAAlG,SAAA,CAAY;UAIhC5C,EAAA,CAAAI,SAAA,EAAoF;UAApFJ,EAAA,CAAAa,UAAA,WAAAgK,QAAA,GAAA/B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,+BAAAqJ,QAAA,CAAApJ,OAAA,OAAAoJ,QAAA,GAAA/B,GAAA,CAAAvH,YAAA,CAAAC,GAAA,+BAAAqJ,QAAA,CAAAnJ,OAAA,EAAoF;UAKhE1B,EAAA,CAAAI,SAAA,EAA0D;UAA1DJ,EAAA,CAAAa,UAAA,WAAAiK,QAAA,GAAAhC,GAAA,CAAAvH,YAAA,CAAAC,GAAA,mCAAAsJ,QAAA,CAAArG,KAAA,eAA0D;UAuBlFzE,EAAA,CAAAI,SAAA,GACF;UADEJ,EAAA,CAAAK,kBAAA,MAAAyI,GAAA,CAAAtG,gBAAA,aACF;UAUAxC,EAAA,CAAAI,SAAA,GAAyG;UAAzGJ,EAAA,CAAAqB,WAAA,iBAAA0J,QAAA,GAAAjC,GAAA,CAAAvH,YAAA,CAAAC,GAAA,kCAAAuJ,QAAA,CAAAtJ,OAAA,OAAAsJ,QAAA,GAAAjC,GAAA,CAAAvH,YAAA,CAAAC,GAAA,kCAAAuJ,QAAA,CAAArJ,OAAA,EAAyG;UAGrG1B,EAAA,CAAAI,SAAA,EAA0F;UAA1FJ,EAAA,CAAAa,UAAA,WAAAmK,QAAA,GAAAlC,GAAA,CAAAvH,YAAA,CAAAC,GAAA,kCAAAwJ,QAAA,CAAAvJ,OAAA,OAAAuJ,QAAA,GAAAlC,GAAA,CAAAvH,YAAA,CAAAC,GAAA,kCAAAwJ,QAAA,CAAAtJ,OAAA,EAA0F;UAS9F1B,EAAA,CAAAI,SAAA,GAAkE;UAAlEJ,EAAA,CAAAa,UAAA,aAAAiI,GAAA,CAAAvH,YAAA,CAAAE,OAAA,IAAAqH,GAAA,CAAAvG,YAAA,KAAAuG,GAAA,CAAApI,YAAA,CAAkE;UAE3DV,EAAA,CAAAI,SAAA,EAAkB;UAAlBJ,EAAA,CAAAa,UAAA,SAAAiI,GAAA,CAAAvG,YAAA,CAAkB;UAClBvC,EAAA,CAAAI,SAAA,EAAkB;UAAlBJ,EAAA,CAAAa,UAAA,SAAAiI,GAAA,CAAAvG,YAAA,CAAkB;UAClBvC,EAAA,CAAAI,SAAA,EAAmB;UAAnBJ,EAAA,CAAAa,UAAA,UAAAiI,GAAA,CAAAvG,YAAA,CAAmB;;;qBD7K1B5C,YAAY,EAAAsL,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA,EAAAF,EAAA,CAAAG,aAAA,EAAEvL,mBAAmB,EAAA6H,EAAA,CAAA2D,aAAA,EAAA3D,EAAA,CAAA4D,cAAA,EAAA5D,EAAA,CAAA6D,uBAAA,EAAA7D,EAAA,CAAA8D,oBAAA,EAAA9D,EAAA,CAAA+D,0BAAA,EAAA/D,EAAA,CAAAgE,eAAA,EAAAhE,EAAA,CAAAiE,oBAAA,EAAAjE,EAAA,CAAAkE,kBAAA,EAAAlE,EAAA,CAAAmE,eAAA,EAAE/L,UAAU,EAAEC,eAAe;MAAA+L,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}