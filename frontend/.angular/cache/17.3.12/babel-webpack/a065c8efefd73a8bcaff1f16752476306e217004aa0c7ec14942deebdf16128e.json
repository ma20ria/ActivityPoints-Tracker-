{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/auth.service\";\nimport * as i3 from \"../../../core/services/activity.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ActivitySubmitComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction ActivitySubmitComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Drag & drop your certificate here or click to browse\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.selectedFile.name);\n  }\n}\nfunction ActivitySubmitComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Title is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Event organizer is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_option_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, type_r2));\n  }\n}\nfunction ActivitySubmitComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Activity type is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Valid date is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_54_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const level_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", level_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Level \", level_r3, \"\");\n  }\n}\nfunction ActivitySubmitComponent_div_54_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Level is required for sports activities \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"label\", 48);\n    i0.ɵɵtext(2, \"Activity Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 49)(4, \"option\", 31);\n    i0.ɵɵtext(5, \"Select Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ActivitySubmitComponent_div_54_option_6_Template, 2, 2, \"option\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ActivitySubmitComponent_div_54_div_7_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_3_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", ((tmp_1_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_1_0.touched));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.levels);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r0.activityForm.get(\"level\")) == null ? null : tmp_3_0.touched));\n  }\n}\nfunction ActivitySubmitComponent_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sem_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", sem_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Semester \", sem_r4, \"\");\n  }\n}\nfunction ActivitySubmitComponent_div_62_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Semester is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_62_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Semester must be between 1 and 8 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtemplate(1, ActivitySubmitComponent_div_62_span_1_Template, 2, 0, \"span\", 20)(2, ActivitySubmitComponent_div_62_span_2_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"min\"]) || ((tmp_2_0 = ctx_r0.activityForm.get(\"semester\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"max\"]));\n  }\n}\nfunction ActivitySubmitComponent_div_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Description is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 50);\n    i0.ɵɵtext(2, \"Submitting... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActivitySubmitComponent_span_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Activity\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ActivitySubmitComponent {\n  constructor(fb, authService, activityService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.activityService = activityService;\n    this.router = router;\n    this.currentUser = null;\n    this.isLoading = false;\n    this.isSubmitting = false;\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.selectedFile = null;\n    this.calculatedPoints = 0;\n    this.today = new Date().toISOString().split('T')[0];\n    this.activityTypes = ['sports', 'mooc', 'workshops', 'internships'];\n    this.levels = [1, 2, 3, 4, 5];\n    this.semesters = [1, 2, 3, 4, 5, 6, 7, 8];\n    this.sportsPointsMap = {\n      1: 8,\n      2: 15,\n      3: 25,\n      4: 40,\n      5: 50\n    };\n    this.activityForm = this.fb.group({\n      title: ['', [Validators.required]],\n      activityType: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      eventOrganizer: ['', [Validators.required]],\n      date: ['', [Validators.required]],\n      level: [''],\n      points: [0],\n      semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\n    });\n    // Calculate points when activity type or level changes\n    this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n      this.updateLevelValidation();\n    });\n    this.activityForm.get('level')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/login']);\n    }\n  }\n  updateLevelValidation() {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const levelControl = this.activityForm.get('level');\n    if (activityType === 'sports') {\n      levelControl?.setValidators([Validators.required, Validators.min(1), Validators.max(5)]);\n    } else {\n      levelControl?.clearValidators();\n    }\n    levelControl?.updateValueAndValidity();\n  }\n  calculatePoints() {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const level = Number(this.activityForm.get('level')?.value);\n    if (!activityType) {\n      this.calculatedPoints = 0;\n      return;\n    }\n    switch (activityType) {\n      case 'sports':\n        this.calculatedPoints = this.sportsPointsMap[level] || 0;\n        break;\n      case 'mooc':\n        this.calculatedPoints = 50;\n        break;\n      case 'workshops':\n        this.calculatedPoints = 6;\n        break;\n      case 'internships':\n        this.calculatedPoints = 20;\n        break;\n      default:\n        this.calculatedPoints = 0;\n    }\n    this.activityForm.patchValue({\n      points: this.calculatedPoints\n    }, {\n      emitEvent: false\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      // Check file size (5MB limit)\n      if (file.size > 5 * 1024 * 1024) {\n        this.errorMessage = 'File size exceeds 5MB limit';\n        event.target.value = '';\n        this.selectedFile = null;\n        return;\n      }\n      // Check file type\n      const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n      if (!allowedTypes.includes(file.type)) {\n        this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\n        event.target.value = '';\n        this.selectedFile = null;\n        return;\n      }\n      this.selectedFile = file;\n      this.errorMessage = '';\n    }\n  }\n  onSubmit() {\n    if (this.activityForm.invalid) {\n      this.errorMessage = 'Please fill in all required fields correctly.';\n      Object.keys(this.activityForm.controls).forEach(key => {\n        const control = this.activityForm.get(key);\n        if (control?.invalid) {\n          control.markAsTouched();\n        }\n      });\n      return;\n    }\n    if (!this.selectedFile) {\n      this.errorMessage = 'Please upload a certificate.';\n      return;\n    }\n    this.isSubmitting = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n    // Create FormData object\n    const formData = new FormData();\n    // Add the file with the correct field name\n    console.log('File being uploaded:', this.selectedFile);\n    formData.append('certificate', this.selectedFile, this.selectedFile.name);\n    // Add all form values to formData, ensuring proper type conversion\n    const formValues = this.activityForm.value;\n    console.log('Form values:', formValues);\n    // Append form fields with proper type conversion\n    formData.append('activityType', formValues.activityType);\n    formData.append('title', formValues.title.trim());\n    formData.append('description', formValues.description.trim());\n    formData.append('eventOrganizer', (formValues.eventOrganizer || 'Not specified').trim());\n    formData.append('date', new Date(formValues.date).toISOString());\n    formData.append('semester', formValues.semester.toString());\n    formData.append('points', this.calculatedPoints.toString());\n    // Only append level for sports activities\n    if (formValues.activityType === 'sports' && formValues.level) {\n      formData.append('level', formValues.level.toString());\n    }\n    // Add student information\n    if (this.currentUser && this.currentUser._id && this.currentUser.name && this.currentUser.class && this.currentUser.department) {\n      formData.append('studentId', this.currentUser._id);\n      formData.append('studentName', this.currentUser.name);\n      formData.append('studentClass', this.currentUser.class);\n      formData.append('studentDepartment', this.currentUser.department);\n    } else {\n      console.error('Missing required user information');\n      this.errorMessage = 'Missing user information. Please log in again.';\n      this.isSubmitting = false;\n      return;\n    }\n    // Log the complete FormData\n    console.log('FormData entries:');\n    formData.forEach((value, key) => {\n      console.log(key, ':', value);\n    });\n    this.activityService.submitActivity(formData).subscribe({\n      next: response => {\n        console.log('Submission successful:', response);\n        this.isSubmitting = false;\n        this.successMessage = response.message || 'Activity submitted successfully! Your certificate will be reviewed by your teacher.';\n        // Reset form\n        this.activityForm.reset();\n        this.selectedFile = null;\n        // Reset file input\n        const fileInput = document.getElementById('certificateFile');\n        if (fileInput) {\n          fileInput.value = '';\n        }\n        // Reset form to initial state\n        this.activityForm.patchValue({\n          activityType: '',\n          level: '',\n          points: 0\n        });\n        this.calculatedPoints = 0;\n        setTimeout(() => {\n          this.router.navigate(['/activities']);\n        }, 2000);\n      },\n      error: error => {\n        console.error('Submission error:', error);\n        this.isSubmitting = false;\n        if (error.error && error.error.message) {\n          this.errorMessage = error.error.message;\n        } else if (error.status === 0) {\n          this.errorMessage = 'Unable to connect to the server. Please check your internet connection.';\n        } else if (error.status === 413) {\n          this.errorMessage = 'File size is too large. Please upload a smaller file.';\n        } else if (error.status === 500) {\n          this.errorMessage = 'Server error. Please try again later or contact support.';\n        } else {\n          this.errorMessage = 'Failed to submit activity. Please try again.';\n        }\n        // Log detailed error information\n        console.error('Error details:', {\n          status: error.status,\n          statusText: error.statusText,\n          error: error.error,\n          message: error.message\n        });\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ActivitySubmitComponent_Factory(t) {\n      return new (t || ActivitySubmitComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivityService), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ActivitySubmitComponent,\n      selectors: [[\"app-activity-submit\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 78,\n      vars: 33,\n      consts: [[1, \"container\", \"py-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"routerLink\", \"/dashboard/student\", 1, \"btn\", \"btn-outline-primary\"], [1, \"card\", \"border-0\", \"shadow-sm\"], [1, \"card-body\", \"p-4\"], [\"class\", \"alert alert-success mb-4\", 4, \"ngIf\"], [\"class\", \"alert alert-danger mb-4\", 4, \"ngIf\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"mb-4\"], [1, \"mb-3\"], [1, \"certificate-upload-container\"], [1, \"certificate-upload-box\"], [\"type\", \"file\", \"id\", \"certificateFile\", \"accept\", \".pdf,.jpg,.jpeg,.png\", 1, \"file-input\", 3, \"change\"], [\"for\", \"certificateFile\", 1, \"file-label\"], [1, \"upload-icon\"], [1, \"bi\", \"bi-cloud-arrow-up\"], [1, \"upload-text\"], [4, \"ngIf\"], [1, \"text-muted\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", 1, \"form-input\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"eventOrganizer\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"eventOrganizer\", \"formControlName\", \"eventOrganizer\", 1, \"form-input\"], [\"for\", \"activityType\", 1, \"form-label\"], [\"id\", \"activityType\", \"formControlName\", \"activityType\", 1, \"form-input\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"date\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"date\", \"formControlName\", \"date\", 1, \"form-input\", 3, \"max\"], [\"class\", \"col-md-6 mb-3\", 4, \"ngIf\"], [\"for\", \"semester\", 1, \"form-label\"], [\"id\", \"semester\", \"formControlName\", \"semester\", 1, \"form-input\"], [1, \"form-label\"], [1, \"form-control\", \"bg-light\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"4\", 1, \"form-input\"], [1, \"d-grid\", \"gap-2\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"alert\", \"alert-success\", \"mb-4\"], [1, \"alert\", \"alert-danger\", \"mb-4\"], [1, \"invalid-feedback\"], [3, \"value\"], [\"for\", \"level\", 1, \"form-label\"], [\"id\", \"level\", \"formControlName\", \"level\", 1, \"form-input\"], [1, \"bi\", \"bi-arrow-repeat\", \"spin\", \"me-2\"]],\n      template: function ActivitySubmitComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h1\", 4);\n          i0.ɵɵtext(6, \"Submit Activity\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"a\", 5);\n          i0.ɵɵtext(8, \"Back to Dashboard\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7);\n          i0.ɵɵtemplate(11, ActivitySubmitComponent_div_11_Template, 2, 1, \"div\", 8)(12, ActivitySubmitComponent_div_12_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementStart(13, \"form\", 10);\n          i0.ɵɵlistener(\"ngSubmit\", function ActivitySubmitComponent_Template_form_ngSubmit_13_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(14, \"div\", 11)(15, \"h5\", 12);\n          i0.ɵɵtext(16, \"Upload Certificate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 13)(18, \"div\", 14)(19, \"input\", 15);\n          i0.ɵɵlistener(\"change\", function ActivitySubmitComponent_Template_input_change_19_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"label\", 16)(21, \"div\", 17);\n          i0.ɵɵelement(22, \"i\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 19);\n          i0.ɵɵtemplate(24, ActivitySubmitComponent_span_24_Template, 2, 0, \"span\", 20)(25, ActivitySubmitComponent_span_25_Template, 2, 1, \"span\", 20);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(26, \"small\", 21);\n          i0.ɵɵtext(27, \"Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 22)(29, \"div\", 23)(30, \"label\", 24);\n          i0.ɵɵtext(31, \"Certificate Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(32, \"input\", 25);\n          i0.ɵɵtemplate(33, ActivitySubmitComponent_div_33_Template, 2, 0, \"div\", 26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 23)(35, \"label\", 27);\n          i0.ɵɵtext(36, \"Event Organizer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"input\", 28);\n          i0.ɵɵtemplate(38, ActivitySubmitComponent_div_38_Template, 2, 0, \"div\", 26);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(39, \"div\", 22)(40, \"div\", 23)(41, \"label\", 29);\n          i0.ɵɵtext(42, \"Activity Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"select\", 30)(44, \"option\", 31);\n          i0.ɵɵtext(45, \"Select Activity Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(46, ActivitySubmitComponent_option_46_Template, 3, 4, \"option\", 32);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(47, ActivitySubmitComponent_div_47_Template, 2, 0, \"div\", 26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"div\", 23)(49, \"label\", 33);\n          i0.ɵɵtext(50, \"Certificate Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(51, \"input\", 34);\n          i0.ɵɵtemplate(52, ActivitySubmitComponent_div_52_Template, 2, 0, \"div\", 26);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 22);\n          i0.ɵɵtemplate(54, ActivitySubmitComponent_div_54_Template, 8, 4, \"div\", 35);\n          i0.ɵɵelementStart(55, \"div\", 23)(56, \"label\", 36);\n          i0.ɵɵtext(57, \"Semester\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(58, \"select\", 37)(59, \"option\", 31);\n          i0.ɵɵtext(60, \"Select Semester\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(61, ActivitySubmitComponent_option_61_Template, 2, 2, \"option\", 32);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(62, ActivitySubmitComponent_div_62_Template, 3, 2, \"div\", 26);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(63, \"div\", 22)(64, \"div\", 23)(65, \"label\", 38);\n          i0.ɵɵtext(66, \"Points\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"div\", 39);\n          i0.ɵɵtext(68);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(69, \"div\", 12)(70, \"label\", 40);\n          i0.ɵɵtext(71, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(72, \"textarea\", 41);\n          i0.ɵɵtemplate(73, ActivitySubmitComponent_div_73_Template, 2, 0, \"div\", 26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(74, \"div\", 42)(75, \"button\", 43);\n          i0.ɵɵtemplate(76, ActivitySubmitComponent_span_76_Template, 3, 0, \"span\", 20)(77, ActivitySubmitComponent_span_77_Template, 2, 0, \"span\", 20);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_8_0;\n          let tmp_9_0;\n          let tmp_10_0;\n          let tmp_12_0;\n          let tmp_13_0;\n          let tmp_15_0;\n          let tmp_16_0;\n          let tmp_17_0;\n          let tmp_19_0;\n          let tmp_21_0;\n          let tmp_22_0;\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.activityForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"is-invalid\", !ctx.selectedFile && ctx.activityForm.touched);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n          i0.ɵɵadvance(7);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_6_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_6_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.activityForm.get(\"title\")) == null ? null : tmp_7_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_8_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_8_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.activityForm.get(\"eventOrganizer\")) == null ? null : tmp_9_0.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_10_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_10_0.touched));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.activityTypes);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_12_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_13_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_13_0.invalid) && ((tmp_13_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_13_0.touched));\n          i0.ɵɵproperty(\"max\", ctx.today);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_15_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_15_0.invalid) && ((tmp_15_0 = ctx.activityForm.get(\"date\")) == null ? null : tmp_15_0.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_16_0 = ctx.activityForm.get(\"activityType\")) == null ? null : tmp_16_0.value) === \"sports\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_17_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_17_0.invalid) && ((tmp_17_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_17_0.touched));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.semesters);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_19_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_19_0.invalid) && ((tmp_19_0 = ctx.activityForm.get(\"semester\")) == null ? null : tmp_19_0.touched));\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.calculatedPoints, \" points \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_21_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_21_0.invalid) && ((tmp_21_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_21_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_22_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_22_0.invalid) && ((tmp_22_0 = ctx.activityForm.get(\"description\")) == null ? null : tmp_22_0.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.activityForm.invalid || ctx.isSubmitting || !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n        }\n      },\n      dependencies: [CommonModule, i5.NgForOf, i5.NgIf, i5.TitleCasePipe, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterLink, NavbarComponent],\n      styles: [\".shadow-sm[_ngcontent-%COMP%] {\\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\\n}\\n\\n.form-input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.75rem 1rem;\\n  border: 1px solid #ced4da;\\n  border-radius: 0.375rem;\\n  font-size: 1rem;\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n.form-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #80bdff;\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n}\\n.form-input.is-invalid[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n}\\n\\n.certificate-upload-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 1rem;\\n}\\n\\n.certificate-upload-box[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n  min-height: 150px;\\n  border: 2px dashed #ced4da;\\n  border-radius: 0.5rem;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  overflow: hidden;\\n  transition: border-color 0.3s ease;\\n}\\n.certificate-upload-box[_ngcontent-%COMP%]:hover {\\n  border-color: #80bdff;\\n}\\n\\n.file-input[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0;\\n  cursor: pointer;\\n  z-index: 2;\\n}\\n\\n.file-label[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  padding: 2rem;\\n  cursor: pointer;\\n}\\n\\n.upload-icon[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  color: #6c757d;\\n  margin-bottom: 1rem;\\n}\\n\\n.upload-text[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #6c757d;\\n}\\n\\ntextarea.form-input[_ngcontent-%COMP%] {\\n  resize: vertical;\\n  min-height: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYWN0aXZpdGllcy9hY3Rpdml0eS1zdWJtaXQvYWN0aXZpdHktc3VibWl0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOERBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0Esd0VBQUE7QUFDRjtBQUNFO0VBQ0UsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0RBQUE7QUFDSjtBQUVFO0VBQ0UscUJBQUE7QUFBSjs7QUFJQTtFQUNFLGNBQUE7QUFERjs7QUFJQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSwwQkFBQTtFQUNBLHFCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtDQUFBO0FBREY7QUFHRTtFQUNFLHFCQUFBO0FBREo7O0FBS0E7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUFGRjs7QUFLQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0FBRkY7O0FBS0E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtBQUZGOztBQUtBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0FBRkY7O0FBS0E7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FBRkYiLCJzb3VyY2VzQ29udGVudCI6WyIuc2hhZG93LXNtIHtcbiAgYm94LXNoYWRvdzogMCAwLjEyNXJlbSAwLjI1cmVtIHJnYmEoMCwgMCwgMCwgMC4wNzUpICFpbXBvcnRhbnQ7XG59XG5cbi5mb3JtLWlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTtcbiAgYm9yZGVyLXJhZGl1czogMC4zNzVyZW07XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0O1xuICBcbiAgJjpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBib3JkZXItY29sb3I6ICM4MGJkZmY7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoMCwgMTIzLCAyNTUsIDAuMjUpO1xuICB9XG4gIFxuICAmLmlzLWludmFsaWQge1xuICAgIGJvcmRlci1jb2xvcjogI2RjMzU0NTtcbiAgfVxufVxuXG4udGV4dC1kYW5nZXIge1xuICBjb2xvcjogI2RjMzU0NTtcbn1cblxuLmNlcnRpZmljYXRlLXVwbG9hZC1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLmNlcnRpZmljYXRlLXVwbG9hZC1ib3gge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBtaW4taGVpZ2h0OiAxNTBweDtcbiAgYm9yZGVyOiAycHggZGFzaGVkICNjZWQ0ZGE7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjNzIGVhc2U7XG4gIFxuICAmOmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6ICM4MGJkZmY7XG4gIH1cbn1cblxuLmZpbGUtaW5wdXQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgb3BhY2l0eTogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB6LWluZGV4OiAyO1xufVxuXG4uZmlsZS1sYWJlbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwYWRkaW5nOiAycmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi51cGxvYWQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMi41cmVtO1xuICBjb2xvcjogIzZjNzU3ZDtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLnVwbG9hZC10ZXh0IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzZjNzU3ZDtcbn1cblxudGV4dGFyZWEuZm9ybS1pbnB1dCB7XG4gIHJlc2l6ZTogdmVydGljYWw7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xufSAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","Validators","ReactiveFormsModule","RouterLink","NavbarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","successMessage","errorMessage","ɵɵtextInterpolate","selectedFile","name","ɵɵproperty","type_r2","ɵɵpipeBind1","level_r3","ɵɵtemplate","ActivitySubmitComponent_div_54_option_6_Template","ActivitySubmitComponent_div_54_div_7_Template","ɵɵclassProp","tmp_1_0","activityForm","get","invalid","touched","levels","tmp_3_0","sem_r4","ActivitySubmitComponent_div_62_span_1_Template","ActivitySubmitComponent_div_62_span_2_Template","errors","tmp_2_0","ɵɵelement","ActivitySubmitComponent","constructor","fb","authService","activityService","router","currentUser","isLoading","isSubmitting","calculatedPoints","today","Date","toISOString","split","activityTypes","semesters","sportsPointsMap","group","title","required","activityType","description","eventOrganizer","date","level","points","semester","min","max","valueChanges","subscribe","calculatePoints","updateLevelValidation","ngOnInit","getCurrentUser","navigate","value","levelControl","setValidators","clearValidators","updateValueAndValidity","Number","patchValue","emitEvent","onFileSelected","event","file","target","files","size","allowedTypes","includes","type","onSubmit","Object","keys","controls","forEach","key","control","markAsTouched","formData","FormData","console","log","append","formValues","trim","toString","_id","class","department","error","submitActivity","next","response","message","reset","fileInput","document","getElementById","setTimeout","status","statusText","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","ActivityService","i4","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ActivitySubmitComponent_Template","rf","ctx","ActivitySubmitComponent_div_11_Template","ActivitySubmitComponent_div_12_Template","ɵɵlistener","ActivitySubmitComponent_Template_form_ngSubmit_13_listener","ActivitySubmitComponent_Template_input_change_19_listener","$event","ActivitySubmitComponent_span_24_Template","ActivitySubmitComponent_span_25_Template","ActivitySubmitComponent_div_33_Template","ActivitySubmitComponent_div_38_Template","ActivitySubmitComponent_option_46_Template","ActivitySubmitComponent_div_47_Template","ActivitySubmitComponent_div_52_Template","ActivitySubmitComponent_div_54_Template","ActivitySubmitComponent_option_61_Template","ActivitySubmitComponent_div_62_Template","ActivitySubmitComponent_div_73_Template","ActivitySubmitComponent_span_76_Template","ActivitySubmitComponent_span_77_Template","tmp_6_0","tmp_7_0","tmp_8_0","tmp_9_0","tmp_10_0","tmp_12_0","tmp_13_0","tmp_15_0","tmp_16_0","tmp_17_0","tmp_19_0","tmp_21_0","tmp_22_0","i5","NgForOf","NgIf","TitleCasePipe","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\user\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\activities\\activity-submit\\activity-submit.component.ts","C:\\Users\\user\\ActivityPoints-Tracker-\\frontend\\src\\app\\features\\activities\\activity-submit\\activity-submit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { NavbarComponent } from '../../../ui/navbar/navbar.component';\nimport { ActivityService } from '../../../core/services/activity.service';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { User } from '../../../core/models/user.model';\nimport { ApiResponse } from '../../../core/models/api-response.model';\nimport { Activity } from '../../../core/models/activity.model';\n\n@Component({\n  selector: 'app-activity-submit',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, RouterLink, NavbarComponent],\n  templateUrl: './activity-submit.component.html',\n  styleUrls: ['./activity-submit.component.scss']\n})\nexport class ActivitySubmitComponent implements OnInit {\n  activityForm: FormGroup;\n  currentUser: User | null = null;\n  isLoading = false;\n  isSubmitting = false;\n  errorMessage = '';\n  successMessage = '';\n  selectedFile: File | null = null;\n  calculatedPoints = 0;\n  today = new Date().toISOString().split('T')[0];\n  \n  activityTypes = ['sports', 'mooc', 'workshops', 'internships'];\n  levels = [1, 2, 3, 4, 5];\n  semesters = [1, 2, 3, 4, 5, 6, 7, 8];\n\n  private sportsPointsMap: Record<number, number> = {\n    1: 8,\n    2: 15,\n    3: 25,\n    4: 40,\n    5: 50\n  };\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private activityService: ActivityService,\n    private router: Router\n  ) {\n    this.activityForm = this.fb.group({\n      title: ['', [Validators.required]],\n      activityType: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      eventOrganizer: ['', [Validators.required]],\n      date: ['', [Validators.required]],\n      level: [''],\n      points: [0],\n      semester: ['', [Validators.required, Validators.min(1), Validators.max(8)]]\n    });\n\n    // Calculate points when activity type or level changes\n    this.activityForm.get('activityType')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n      this.updateLevelValidation();\n    });\n\n    this.activityForm.get('level')?.valueChanges.subscribe(() => {\n      this.calculatePoints();\n    });\n  }\n\n  ngOnInit(): void {\n    this.currentUser = this.authService.getCurrentUser();\n    if (!this.currentUser) {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  updateLevelValidation(): void {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const levelControl = this.activityForm.get('level');\n\n    if (activityType === 'sports') {\n      levelControl?.setValidators([Validators.required, Validators.min(1), Validators.max(5)]);\n    } else {\n      levelControl?.clearValidators();\n    }\n    levelControl?.updateValueAndValidity();\n  }\n\n  calculatePoints(): void {\n    const activityType = this.activityForm.get('activityType')?.value;\n    const level = Number(this.activityForm.get('level')?.value);\n\n    if (!activityType) {\n      this.calculatedPoints = 0;\n      return;\n    }\n\n    switch (activityType) {\n      case 'sports':\n        this.calculatedPoints = this.sportsPointsMap[level] || 0;\n        break;\n      case 'mooc':\n        this.calculatedPoints = 50;\n        break;\n      case 'workshops':\n        this.calculatedPoints = 6;\n        break;\n      case 'internships':\n        this.calculatedPoints = 20;\n        break;\n      default:\n        this.calculatedPoints = 0;\n    }\n    \n    this.activityForm.patchValue({ points: this.calculatedPoints }, { emitEvent: false });\n  }\n\n  onFileSelected(event: any): void {\n    const file = event.target.files[0];\n    if (file) {\n      // Check file size (5MB limit)\n      if (file.size > 5 * 1024 * 1024) {\n        this.errorMessage = 'File size exceeds 5MB limit';\n        event.target.value = '';\n        this.selectedFile = null;\n        return;\n      }\n\n      // Check file type\n      const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n      if (!allowedTypes.includes(file.type)) {\n        this.errorMessage = 'Invalid file type. Please upload PDF, JPG, JPEG, or PNG files only';\n        event.target.value = '';\n        this.selectedFile = null;\n        return;\n      }\n\n      this.selectedFile = file;\n      this.errorMessage = '';\n    }\n  }\n\n  onSubmit(): void {\n    if (this.activityForm.invalid) {\n      this.errorMessage = 'Please fill in all required fields correctly.';\n      Object.keys(this.activityForm.controls).forEach(key => {\n        const control = this.activityForm.get(key);\n        if (control?.invalid) {\n          control.markAsTouched();\n        }\n      });\n      return;\n    }\n\n    if (!this.selectedFile) {\n      this.errorMessage = 'Please upload a certificate.';\n      return;\n    }\n\n    this.isSubmitting = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n\n    // Create FormData object\n    const formData = new FormData();\n    \n    // Add the file with the correct field name\n    console.log('File being uploaded:', this.selectedFile);\n    formData.append('certificate', this.selectedFile, this.selectedFile.name);\n    \n    // Add all form values to formData, ensuring proper type conversion\n    const formValues = this.activityForm.value;\n    console.log('Form values:', formValues);\n\n    // Append form fields with proper type conversion\n    formData.append('activityType', formValues.activityType);\n    formData.append('title', formValues.title.trim());\n    formData.append('description', formValues.description.trim());\n    formData.append('eventOrganizer', (formValues.eventOrganizer || 'Not specified').trim());\n    formData.append('date', new Date(formValues.date).toISOString());\n    formData.append('semester', formValues.semester.toString());\n    formData.append('points', this.calculatedPoints.toString());\n    \n    // Only append level for sports activities\n    if (formValues.activityType === 'sports' && formValues.level) {\n      formData.append('level', formValues.level.toString());\n    }\n\n    // Add student information\n    if (this.currentUser && this.currentUser._id && this.currentUser.name && \n        this.currentUser.class && this.currentUser.department) {\n      formData.append('studentId', this.currentUser._id);\n      formData.append('studentName', this.currentUser.name);\n      formData.append('studentClass', this.currentUser.class);\n      formData.append('studentDepartment', this.currentUser.department);\n    } else {\n      console.error('Missing required user information');\n      this.errorMessage = 'Missing user information. Please log in again.';\n      this.isSubmitting = false;\n      return;\n    }\n\n    // Log the complete FormData\n    console.log('FormData entries:');\n    formData.forEach((value, key) => {\n      console.log(key, ':', value);\n    });\n\n    this.activityService.submitActivity(formData).subscribe({\n      next: (response: ApiResponse<Activity>) => {\n        console.log('Submission successful:', response);\n        this.isSubmitting = false;\n        this.successMessage = response.message || 'Activity submitted successfully! Your certificate will be reviewed by your teacher.';\n        \n        // Reset form\n        this.activityForm.reset();\n        this.selectedFile = null;\n        \n        // Reset file input\n        const fileInput = document.getElementById('certificateFile') as HTMLInputElement;\n        if (fileInput) {\n          fileInput.value = '';\n        }\n        \n        // Reset form to initial state\n        this.activityForm.patchValue({\n          activityType: '',\n          level: '',\n          points: 0\n        });\n        this.calculatedPoints = 0;\n        \n        setTimeout(() => {\n          this.router.navigate(['/activities']);\n        }, 2000);\n      },\n      error: (error: HttpErrorResponse) => {\n        console.error('Submission error:', error);\n        this.isSubmitting = false;\n        if (error.error && error.error.message) {\n          this.errorMessage = error.error.message;\n        } else if (error.status === 0) {\n          this.errorMessage = 'Unable to connect to the server. Please check your internet connection.';\n        } else if (error.status === 413) {\n          this.errorMessage = 'File size is too large. Please upload a smaller file.';\n        } else if (error.status === 500) {\n          this.errorMessage = 'Server error. Please try again later or contact support.';\n        } else {\n          this.errorMessage = 'Failed to submit activity. Please try again.';\n        }\n        // Log detailed error information\n        console.error('Error details:', {\n          status: error.status,\n          statusText: error.statusText,\n          error: error.error,\n          message: error.message\n        });\n      }\n    });\n  }\n} ","<app-navbar></app-navbar>\n\n<div class=\"container py-4\">\n  <div class=\"row mb-4\">\n    <div class=\"col-12\">\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <h1 class=\"mb-0\">Submit Activity</h1>\n        <a routerLink=\"/dashboard/student\" class=\"btn btn-outline-primary\">Back to Dashboard</a>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"card border-0 shadow-sm\">\n    <div class=\"card-body p-4\">\n      <!-- Success Message -->\n      <div *ngIf=\"successMessage\" class=\"alert alert-success mb-4\">\n        {{ successMessage }}\n      </div>\n      \n      <!-- Error Message -->\n      <div *ngIf=\"errorMessage\" class=\"alert alert-danger mb-4\">\n        {{ errorMessage }}\n      </div>\n      \n      <form [formGroup]=\"activityForm\" (ngSubmit)=\"onSubmit()\">\n        <!-- Certificate Upload -->\n        <div class=\"mb-4\">\n          <h5 class=\"mb-3\">Upload Certificate</h5>\n          <div class=\"certificate-upload-container\">\n            <div class=\"certificate-upload-box\" [class.is-invalid]=\"!selectedFile && activityForm.touched\">\n              <input \n                type=\"file\" \n                id=\"certificateFile\" \n                class=\"file-input\" \n                accept=\".pdf,.jpg,.jpeg,.png\" \n                (change)=\"onFileSelected($event)\"\n              >\n              <label for=\"certificateFile\" class=\"file-label\">\n                <div class=\"upload-icon\">\n                  <i class=\"bi bi-cloud-arrow-up\"></i>\n                </div>\n                <div class=\"upload-text\">\n                  <span *ngIf=\"!selectedFile\">Drag & drop your certificate here or click to browse</span>\n                  <span *ngIf=\"selectedFile\">{{ selectedFile.name }}</span>\n                </div>\n              </label>\n            </div>\n          </div>\n          <small class=\"text-muted\">Supported formats: PDF, JPG, JPEG, PNG (Max size: 5MB)</small>\n        </div>\n        \n        <!-- Certificate Details -->\n        <div class=\"row\">\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"title\" class=\"form-label\">Certificate Title</label>\n            <input \n              type=\"text\" \n              id=\"title\" \n              formControlName=\"title\" \n              class=\"form-input\"\n              [class.is-invalid]=\"activityForm.get('title')?.invalid && activityForm.get('title')?.touched\"\n            >\n            <div *ngIf=\"activityForm.get('title')?.invalid && activityForm.get('title')?.touched\" class=\"invalid-feedback\">\n              Title is required\n            </div>\n          </div>\n          \n          <div class=\"col-md-6 mb-3\">\n            <label for=\"eventOrganizer\" class=\"form-label\">Event Organizer</label>\n            <input \n              type=\"text\" \n              id=\"eventOrganizer\" \n              formControlName=\"eventOrganizer\" \n              class=\"form-input\"\n              [class.is-invalid]=\"activityForm.get('eventOrganizer')?.invalid && activityForm.get('eventOrganizer')?.touched\"\n            >\n            <div *ngIf=\"activityForm.get('eventOrganizer')?.invalid && activityForm.get('eventOrganizer')?.touched\" class=\"invalid-feedback\">\n              Event organizer is required\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"row\">\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"activityType\" class=\"form-label\">Activity Type</label>\n            <select \n              id=\"activityType\" \n              formControlName=\"activityType\" \n              class=\"form-input\"\n              [class.is-invalid]=\"activityForm.get('activityType')?.invalid && activityForm.get('activityType')?.touched\"\n            >\n              <option value=\"\">Select Activity Type</option>\n              <option *ngFor=\"let type of activityTypes\" [value]=\"type\">{{ type | titlecase }}</option>\n            </select>\n            <div *ngIf=\"activityForm.get('activityType')?.invalid && activityForm.get('activityType')?.touched\" class=\"invalid-feedback\">\n              Activity type is required\n            </div>\n          </div>\n          \n          <div class=\"col-md-6 mb-3\">\n            <label for=\"date\" class=\"form-label\">Certificate Date</label>\n            <input \n              type=\"date\" \n              id=\"date\" \n              formControlName=\"date\" \n              class=\"form-input\"\n              [class.is-invalid]=\"activityForm.get('date')?.invalid && activityForm.get('date')?.touched\"\n              [max]=\"today\"\n            >\n            <div *ngIf=\"activityForm.get('date')?.invalid && activityForm.get('date')?.touched\" class=\"invalid-feedback\">\n              Valid date is required\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"row\">\n          <div class=\"col-md-6 mb-3\" *ngIf=\"activityForm.get('activityType')?.value === 'sports'\">\n            <label for=\"level\" class=\"form-label\">Activity Level</label>\n            <select \n              id=\"level\" \n              formControlName=\"level\" \n              class=\"form-input\"\n              [class.is-invalid]=\"activityForm.get('level')?.invalid && activityForm.get('level')?.touched\"\n            >\n              <option value=\"\">Select Level</option>\n              <option *ngFor=\"let level of levels\" [value]=\"level\">Level {{ level }}</option>\n            </select>\n            <div *ngIf=\"activityForm.get('level')?.invalid && activityForm.get('level')?.touched\" class=\"invalid-feedback\">\n              Level is required for sports activities\n            </div>\n          </div>\n\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"semester\" class=\"form-label\">Semester</label>\n            <select \n              id=\"semester\" \n              formControlName=\"semester\" \n              class=\"form-input\"\n              [class.is-invalid]=\"activityForm.get('semester')?.invalid && activityForm.get('semester')?.touched\"\n            >\n              <option value=\"\">Select Semester</option>\n              <option *ngFor=\"let sem of semesters\" [value]=\"sem\">Semester {{ sem }}</option>\n            </select>\n            <div *ngIf=\"activityForm.get('semester')?.invalid && activityForm.get('semester')?.touched\" class=\"invalid-feedback\">\n              <span *ngIf=\"activityForm.get('semester')?.errors?.['required']\">Semester is required</span>\n              <span *ngIf=\"activityForm.get('semester')?.errors?.['min'] || activityForm.get('semester')?.errors?.['max']\">\n                Semester must be between 1 and 8\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"row\">\n          <div class=\"col-md-6 mb-3\">\n            <label class=\"form-label\">Points</label>\n            <div class=\"form-control bg-light\">\n              {{ calculatedPoints }} points\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"mb-3\">\n          <label for=\"description\" class=\"form-label\">Description</label>\n          <textarea \n            id=\"description\" \n            formControlName=\"description\" \n            class=\"form-input\" \n            rows=\"4\"\n            [class.is-invalid]=\"activityForm.get('description')?.invalid && activityForm.get('description')?.touched\"\n          ></textarea>\n          <div *ngIf=\"activityForm.get('description')?.invalid && activityForm.get('description')?.touched\" class=\"invalid-feedback\">\n            Description is required\n          </div>\n        </div>\n        \n        <div class=\"d-grid gap-2 mt-4\">\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\" \n            [disabled]=\"activityForm.invalid || isSubmitting || !selectedFile\"\n          >\n            <span *ngIf=\"isSubmitting\">\n              <i class=\"bi bi-arrow-repeat spin me-2\"></i>Submitting...\n            </span>\n            <span *ngIf=\"!isSubmitting\">Submit Activity</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}